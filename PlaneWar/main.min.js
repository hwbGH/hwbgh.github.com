function getRandomBetweenInt(e,t){try{var i=e;return t>e&&(i=e+(t-e)*Math.random()),parseInt(i)}catch(s){return 0}}function getRandomBetween(e,t){try{var i=e;return t>e&&(i=e+(t-e)*Math.random()),i}catch(s){return 0}}function getYOrN(e){return getRandomBetweenInt(0,100)<e}function getPercentage(e,t){return 1>t&&(t=1),100*e/t}function getValueByPercentage(e,t){return e*t/100}function getRandomOfArrayProbability(e){var t=0,i=e.length,s=0;for(s=0;i>s;s++)t+=e[s];var a=getRandomBetweenInt(0,t);for(t=0,s=0;i>s;s++)if(t+=e[s],t>a)return s;return 0}function checkStringLen(e){for(var t=0,i=0;i<e.length;i++)e.charCodeAt(i)>255?t+=2:t++;return t}function noChineseLetterNumber(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>40869||e.charCodeAt(t)>122&&e.charCodeAt(t)<19968||e.charCodeAt(t)>90&&e.charCodeAt(t)<97||e.charCodeAt(t)>57&&e.charCodeAt(t)<65||e.charCodeAt(t)<48)return!0;return!1}function getRequest(){var url=location.search,theRequest={};if(-1!=url.indexOf("?")){var str=decodeURI(url.substr(1));str='{"'+str.replace(/&/g,'","').replace(/=/g,'":"')+'"}',theRequest=eval("("+str+")")}return theRequest}function ajaxPost(e,t,i){var s=null;$.ajax({url:e,type:"POST",data:t,dataType:"jsonp",jsonp:"callback",jsonpCallback:"ajaxPostJsonpCallback",success:function(e){void 0!==e&&(s=e)},error:function(e,t,i){console.log("error: "+e+","+t+","+i+","+e.status+","+e.readyState+","+t)},complete:function(e){console.log("ajaxPost complete",e),i(s)}})}function ajaxGetJsonP(e,t,i,s){var a=null;$.ajax({url:e,type:"GET",data:t,dataType:"jsonp",jsonp:"callback",success:function(e){void 0!==e&&(a=e)},error:function(e,t,i){},complete:function(e){i(a,s)}})}function onFontLoaded(e,t){Text.registerBitmapFont(e,t)}function startScreen(e,t){t&&Laya.stage.addChildAt(t,0),e&&e.removeSelf()}function turnToBack(){Config.isPause=!0}function returnBack(){Config.isPause=!1}function on9117PayOk(){Config.isPause=!1}function on9117PayCancel(){Config.isPause=!1}var UpdateMgr=function(){function e(){this.completeH=null,this.progressH=null,this.mAstDic=new Object}var t=e.prototype;return t.LoadFile=function(e,t,i){this.completeH=t,this.progressH=i,Laya.loader.load(e,new Laya.Handler(this,this.onComplete),new Laya.Handler(this,this.getProgress),"arraybuffer")},t.onComplete=function(t){var i=new Laya.Byte(t),s=i.readUTFBytes(4);if("fst"==s){var a=i.getUint32();if(100==a){a=i.getUint32();for(var l=0,n=0,o=0;a>o;o++)l=i.getUint32(),n=i.getUint32(),this.mAstDic[l]=n;Laya.URL.customFormat=e.customUrl,this.completeH&&(this.completeH.run(),this.completeH.clear())}}},t.getProgress=function(e){this.progressH&&this.progressH.runWith(e)},t.getFileModtime=function(e){var t=e.toLowerCase(),i=this.string_hash(t);return this.mAstDic[i]},t.string_hash=function(e){for(var t=0,i=0,s=0;s<e.length;s++)i=e.charCodeAt(s),t=(t<<5)-t+i;return t>>>=0},e.Instance=function(){return null==e.m_ins?(e.m_ins=new e,e.m_ins):e.m_ins},e.customUrl=function(t,i){if(!t)return t;var s=e.m_ins.getFileModtime(t);return s&&(t=t+"?"+s),t},e.m_ins=null,e}(),Sprite=laya.display.Sprite,Text=laya.display.Text,Bitmap=laya.resource.Bitmap,Texture=laya.resource.Texture,Handler=laya.utils.Handler,Loader=laya.net.Loader,Animation=laya.display.Animation,Rectangle=laya.maths.Rectangle,Event=laya.events.Event,Pool=laya.utils.Pool,Browser=laya.utils.Browser,Stat=laya.utils.Stat,SoundManager=laya.media.SoundManager,Point=laya.maths.Point,Tween=laya.utils.Tween,LocalStorage=laya.net.LocalStorage,Socket=laya.net.Socket,Byte=laya.utils.Byte,Button=Laya.Button,Input=Laya.Input,Stage=laya.display.Stage,HttpRequest=laya.net.HttpRequest,WebGL=laya.webgl.WebGL,TimeLine=laya.utils.TimeLine,Label=laya.ui.Label,Box=Laya.Box,List=laya.ui.List,Dialog=Laya.Dialog,Skeleton=Laya.Skeleton,Templet=Laya.Templet,GlowFilter=Laya.GlowFilter,HTMLDivElement=Laya.HTMLDivElement,BitmapFont=Laya.BitmapFont,CheckBox=laya.ui.CheckBox,ColorFilter=Laya.ColorFilter,Ease=Laya.Ease,Keyboard=laya.events.Keyboard,res={},Config={userCode:"game_app",gameKey:"34b252910658d0a6b93116556f2cccb7",serviceUrl:"service/service.php",versionUrl:"service/version.php",http_state_fail:0,http_state_success:1,http_state_keyLost:10,http_state_duplicateName:20,sexBoy:0,sexGirl:1,headIdMax:2,station_state_weiHu:0,station_state_huoBao:1,station_state_baoMan:2,station_state_zhengChang:3,station_state_guanBi:4,GameWidth:640,GameHeight:960,GameWidthHalf:320,GameHeightHalf:480,event_type_enemy:0,event_type_alarm_enemy:1,event_type_alarm_boss:2,skill_type_time:0,skill_type_hp_percentage:1,skill_type_hp_value:2,separator_0:";",separator_1:",",separator_2:"=",readBase_type_badge:0,millisecondDay:864e5,secondDay:86400,equipmentId_min:20100,equipmentId_max:20999,putOn:1,goodsType_fighter:20100,goodsType_armor:20200,goodsType_weapon:20300,goodsType_wingman:20400,chapterPoints:[[180,-50],[220,30],[0,-340],[-90,-220],[-300,-10],[-30,-270]],chapterWithPointsNumber:[3,4,6,4,5,4],chapter_type_ordinary:100,chapter_type_elite:200,chapter_type_boss:300,unlimitedData:-1,bgSpeed:4,isPause:!1,isOver:!1,direction_none:-1,direction_up:0,direction_down:1,direction_left:2,direction_right:3,direction_number:4};!function(){function e(){}Laya["class"](e,"GameData");var t=e.prototype;t.init=function(){}}(),function(){function e(){this._owner=null,this._isEffective=!1}Laya["class"](e,"bean.ListScrollBar");var t=Laya.getset,i=e.prototype;t(0,i,"owner",function(){return this._owner},function(e){this._owner=e,this._isEffective&&this._owner&&(this._owner.scrollBar.hide=!0,this._owner.scrollBar.elasticBackTime=200,this._owner.scrollBar.elasticDistance=50)}),t(0,i,"isEffective",function(){return this._isEffective},function(e){this._isEffective=e,this._isEffective&&this._owner&&(this._owner.scrollBar.hide=!0,this._owner.scrollBar.elasticBackTime=200,this._owner.scrollBar.elasticDistance=50)})}(),function(){function e(){this._owner=null,this._isScal=!1}Laya["class"](e,"bean.ScaleButton");var t=Laya.getset,i=e.prototype;t(0,i,"owner",function(){return this._owner},function(e){this._owner=e,this._isScal&&this._owner&&this._owner.on(Event.MOUSE_DOWN,this,this.onDownButton)}),t(0,i,"isScale",function(){return this._isScal},function(e){this._isScal=e}),i.onDown=function(){this._owner.scale(.75,.75),this._owner.on(Event.MOUSE_UP,this,this.onUp)},i.onUp=function(){this._owner.scale(1,1),this._owner.off(Event.MOUSE_UP,this,this.onUp)},i.onDownButton=function(){this._owner.scale(.75,.75),Tween.to(this._owner,{scaleX:1,scaleY:1},0,null,null,100)}}(),function(){function e(){e.__super.call(this),this._optionIndex=null}Laya["class"](e,"bean.SexButton",Button);var t=Laya.getset,i=e.prototype;t(0,i,"optionIndex",function(){return this._optionIndex},function(e){this._optionIndex=e,"left"==e?Tween.to(this,{x:200,scaleX:.5,scaleY:.5,alpha:.5},0):"center"==e?Tween.to(this,{x:315,scaleX:1,scaleY:1,alpha:1},0):"right"==e&&Tween.to(this,{x:430,scaleX:.5,scaleY:.5,alpha:.5},0)}),i.toLeft=function(){this._optionIndex="left",Tween.to(this,{x:200,scaleX:.5,scaleY:.5,alpha:.5},100)},i.toCenter=function(){this._optionIndex="center",Tween.to(this,{x:315,scaleX:1,scaleY:1,alpha:1},100)},i.toRight=function(){this._optionIndex="right",Tween.to(this,{x:430,scaleX:.5,scaleY:.5,alpha:.5},100)}}(),function(){function e(){CreateRoleScreen.__super.call(this),this._isSelected=!1}Laya["class"](e,"bean.WarehouseCheckbox",CheckBox);var t=Laya.getset,i=e.prototype;t(0,i,"isSelected",function(){return this._isSelected},function(e){this._isSelected=e}),i.setSelected=function(e){this.selected=e,e?Tween.to(this,{x:83},80):Tween.to(this,{x:57},80)}}(),function(){function e(){CreateRoleScreen.__super.call(this),this._optionIndex=null}Laya["class"](e,"bean.HeadImage",laya.ui.Image);var t=Laya.getset,i=e.prototype;t(0,i,"optionIndex",function(){return this._optionIndex},function(e){this._optionIndex=e,this.changeOptionIndex(e,0)}),i.changeOptionIndex=function(e,t){this._optionIndex=e,"0"==e?Tween.to(this,{x:60,scaleX:.4,scaleY:.4,alpha:.4},t):"1"==e?Tween.to(this,{x:160,scaleX:.7,scaleY:.7,alpha:.7},t):"2"==e?Tween.to(this,{x:320,scaleX:1,scaleY:1,alpha:1},t):"3"==e?Tween.to(this,{x:480,scaleX:.7,scaleY:.7,alpha:.7},t):"4"==e&&Tween.to(this,{x:580,scaleX:.4,scaleY:.4,alpha:.4},t)}}(),function(){function e(){e.__super.call(this);var t=new Sprite;t.graphics.alpha(.6),t.graphics.drawRect(0,0,Config.GameWidth,Config.GameHeight,"#000000"),t.graphics.alpha(2),this.addChild(t),this.maskSp=new Sprite,this.maskSp.loadImage("menu/guide_mask.png"),this.mask=this.maskSp,this.init()}Laya["class"](e,"BeginnerGuide",Sprite);var t=e.prototype;t.init=function(){this.on(laya.events.Event.MOUSE_DOWN,this,this.onMouseDown)},t.nextStep=function(e,t){this.on(laya.events.Event.MOUSE_DOWN,this,this.onMouseDown)},t.onMouseDown=function(e){e.stopPropagation()}}(),function(){function e(){this.moveCount=0,this.speedX=0,this.speedY=0,e.__super.call(this)}Laya["class"](e,"HurtText",Label);var t=e.prototype;e.create="create_hurtText",e.move_step=40,e.speed=2,e.interval=.01,e.angle=-Math.PI/2,e.angleMin=-Math.PI/4*3,e.angleMax=-Math.PI/4,t.init=function(t,i,s){this.color="#ff0000",this.fontSize=20,this.bold=!0,this.align="center",this.valign="middle",this.pos(t,i),this.changeText(s),this.visible=!0,this.moveCount=e.move_step;var a=getRandomBetween(e.angleMin,e.angleMax);this.speedX=e.speed*Math.cos(a),this.speedY=e.speed*Math.sin(a),Laya.timer.frameLoop(1,this,this.onLoop)},t.onLoop=function(){Config.isPause||Config.isOver||!this.visible||(this.moveCount--,this.x+=this.speedX,this.y+=this.speedY,this.moveCount<=0&&this.hide())},t.hide=function(){Laya.timer.clear(this,this.onLoop),this.rotation=0,this.visible=!1,this.track=null,this.removeSelf(),Laya.Pool.recover("HurtText",this)}}(),function(){function e(){this.bossIndex=0,this.bossTime=0,this.bossAlive=!1,this.eventTime=0,this.restart()}Laya["class"](e,"GameMap");var t=e.prototype;e.load_over="GameMap_load_over",e.boss_time_step=6e4,e.time_0=18e4,e.time_1=3e5,e.time_0_step=5e3,e.time_1_step=5e3,e.time_2_step=5e3,t.restart=function(){this.eventTime=0,this.bossIndex=0,this.bossTime=0,this.bossAlive=!1},t.bossDie=function(e){this.eventTime=e,this.bossAlive=!1},t.loadEnemy=function(e){var t=EnemyManager.type_ordinary,i=dataManager.enemyList[t].enemyId[getRandomBetweenInt(0,dataManager.enemyList[t].enemyId.length)];enemyManager.loadEnemy(e,i,dataManager.enemyList[t][i],dataManager.skillList,dataManager.flopList,0,0)},t.checkEvent=function(t,i,s){if(this.bossAlive)return this.bossTime=s+e.boss_time_step,void(this.eventTime=s+e.time_0_step);var a=0,l=0,n=0;if(s-this.bossTime>=e.boss_time_step)this.bossTime+=e.boss_time_step,this.bossAlive=!0,a=dataManager.enemyList[EnemyManager.type_boss].enemyId[this.bossIndex],l=Config.GameWidthHalf,n=EnemyManager.min_y,t.bossCome(a,l,n),this.bossIndex=parseInt((this.bossIndex+1)%dataManager.enemyList[EnemyManager.type_boss].enemyId.length);else{var o=[],h=0,r=EnemyManager.type_ordinary,d=0;if(s<e.time_0?s-this.eventTime>=e.time_0_step&&(this.eventTime+=e.time_0_step,o=[80,15,5],h=getRandomOfArrayProbability(o),0==h?(r=EnemyManager.type_ordinary,d=getRandomBetweenInt(2,4)):1==h?(r=EnemyManager.type_elite,d=getRandomBetweenInt(1,3)):2==h&&(r=EnemyManager.type_missile,d=1)):s<e.time_1?s-this.eventTime>=e.time_1_step&&(this.eventTime+=e.time_1_step,o=[50,40,10],h=getRandomOfArrayProbability(o),0==h?(r=EnemyManager.type_ordinary,d=getRandomBetweenInt(2,4)):1==h?(r=EnemyManager.type_elite,d=getRandomBetweenInt(1,3)):2==h&&(r=EnemyManager.type_missile,d=1)):s-this.eventTime>=e.time_2_step&&(this.eventTime+=e.time_2_step,o=[30,50,20],h=getRandomOfArrayProbability(o),0==h?(r=EnemyManager.type_ordinary,d=getRandomBetweenInt(3,6)):1==h?(r=EnemyManager.type_elite,d=getRandomBetweenInt(1,3)):2==h&&(r=EnemyManager.type_missile,d=getRandomBetweenInt(1,4))),d>0){var p=[192,259,70],m=[-133,-201,-142];a=dataManager.enemyList[r].enemyId[getRandomBetweenInt(0,dataManager.enemyList[r].enemyId.length)],l=getRandomBetween(EnemyManager.min_x,EnemyManager.max_x),n=EnemyManager.min_y;var u=1;l>Config.GameWidthHalf&&(u=-1);for(var y=0;d>y;y++)enemyManager.createEnemy(t,i,a,dataManager.enemyList[r][a],dataManager.skillList,dataManager.flopList,l,n),l+=p[h]*u,(l<EnemyManager.min_x||l>=EnemyManager.max_x)&&(n+=m[h],u=-u,l+=p[h]*u)}}}}(),function(){function e(){this.rocker_bg=null,this.rocker_round=null,this.rocker_round_h=null,this.dir_ctrl=null,this.dir_ctrl_h=null,this.defaultX=100,this.defaultY=Config.GameHeight-this.height-100,this.radius=1,this.widthHalf=1,this.heightHalf=1,e.__super.call(this),this.init()}Laya["class"](e,"Rocker",Sprite);var t=e.prototype;t.init=function(){this.alpha=.8,this.width=253,this.height=253,this.widthHalf=this.width/2,this.heightHalf=this.height/2,this.pos(this.defaultX,this.defaultY),this.rocker_bg=new Sprite,this.rocker_bg.loadImage("battle_ctrl/rocker_bg.png"),this.addChild(this.rocker_bg);var e=this.rocker_bg.getBounds(),t=e.width/2;this.rocker_bg.pivot(t,e.height/2),this.rocker_bg.pos(this.widthHalf,this.heightHalf),this.radius=t,this.rocker_round=new Sprite,this.rocker_round.loadImage("battle_ctrl/rocker_round.png"),this.addChild(this.rocker_round),e=this.rocker_round.getBounds(),this.rocker_round.pivot(e.width/2,e.height/2),this.rocker_round.pos(this.widthHalf,this.heightHalf),this.rocker_round_h=new Sprite,this.rocker_round_h.loadImage("battle_ctrl/rocker_round_h.png"),this.rocker_round_h.visible=!1,this.addChild(this.rocker_round_h),e=this.rocker_round_h.getBounds(),this.rocker_round_h.pivot(e.width/2,e.height/2),this.rocker_round_h.pos(this.widthHalf,this.heightHalf),this.dir_ctrl=new Sprite,this.dir_ctrl.loadImage("battle_ctrl/dir_ctrl.png"),this.addChild(this.dir_ctrl),e=this.dir_ctrl.getBounds(),this.dir_ctrl.pivot(e.width/2,e.height/2),this.dir_ctrl.pos(this.widthHalf,this.heightHalf),this.dir_ctrl_h=new Sprite,this.dir_ctrl_h.loadImage("battle_ctrl/dir_ctrl_h.png"),this.dir_ctrl_h.visible=!1,this.addChild(this.dir_ctrl_h),e=this.dir_ctrl_h.getBounds(),this.dir_ctrl_h.pivot(e.width/2,e.height/2),this.dir_ctrl_h.pos(this.widthHalf,this.heightHalf)},t.onRockerDown=function(e,t){this.pos(e,t),this.rocker_round.visible=!1,this.rocker_round_h.visible=!0,this.dir_ctrl.visible=!1,this.dir_ctrl_h.visible=!0},t.onRockerMove=function(e,t){this.dir_ctrl_h.pos(this.widthHalf+e,this.heightHalf+t)},t.onRockerUp=function(){this.rocker_round.visible=!0,this.rocker_round_h.visible=!1,this.dir_ctrl.visible=!0,this.dir_ctrl_h.visible=!1}}(),function(){function e(){this.body=null,e.__super.call(this)}Laya["class"](e,"Explode",Sprite);var t=e.prototype;e.PLANE="bullet_plane",e.missile="missile",e.BULLET="bullet_bullet",e.electricity="electricity",e.smoke="smoke",e.boss="boss",e.laser="laser",e.cached=!1,t.init=function(t,i,s){this.visible=!0,e.cached||(e.cached=!0),s==e.boss?(this.scaleX=1.6,this.scaleY=1.6):(this.scaleX=1,this.scaleY=1),null==this.body&&(this.body=new laya.display.Animation,this.body.interval=50,this.addChild(this.body),this.body.on(laya.events.Event.COMPLETE,this,this.onPlayComplete)),this.pos(t,i),this.playAction(s)},t.onPlayComplete=function(){this.removeSelf(),Laya.Pool.recover("Explode",this)},t.playAction=function(e){this.body.play(0,!0,e);var t=this.body.getBounds();this.body.pivot(t.width/2,t.height/2)}}(),function(){function e(t,i){e.__super.call(this),this.state=e.state_ordinary,this.action=null,this.body=null,this.boundWidth=100,this.boundHeight=100,this.collisionWidth=0,this.collisionHeight=0,this.collisionWidth_eat=0,this.collisionHeight_eat=0,this.speed=5,this.speedX=0,this.speedY=0,this.nextX=0,this.nextY=0,this.hp=10,this.hp_limit=e.hp_limit,this.attack=50,this.shootTime=0,this.missileTime=0,this.shootCd=t,this.missileCd=i,this.hitTime=0,this.canUseBombing=!0,this.canUseLaser=!0,this.timeLine_2time=new TimeLine,this.score_2time=new laya.ui.Image("battle/fenshux2.png"),this.score_2time.anchorX=.5,this.score_2time.anchorY=.5,this.score_2time.visible=!1,this.timeLine_2time.addLabel("0",0).to(this.score_2time,{rotation:360},1e3),this.timeLine_2text=new TimeLine,this.score_2text=new laya.ui.Image("battle/textfenshux2.png"),this.score_2text.anchorX=.5,this.score_2text.anchorY=.5,this.score_2text.visible=!1,this.score_2text.pos(0,0),this.timeLine_2text.addLabel("0",0).to(this.score_2text,{x:0,alpha:0},0).addLabel("1",0).to(this.score_2text,{x:131,alpha:1},350).addLabel("2",0).to(this.score_2text,{alpha:0},150,null,200),this.timeLine_2text.on(Event.COMPLETE,this,this.onCompleteTimeLine,[this.score_2text]),this.timeLine_5time=new TimeLine,this.score_5time=new laya.ui.Image("battle/fenshux5.png"),this.score_5time.anchorX=.5,this.score_5time.anchorY=.5,this.score_5time.visible=!1,this.timeLine_5time.addLabel("0",0).to(this.score_5time,{rotation:360},1e3),this.timeLine_5text=new TimeLine,this.score_5text=new laya.ui.Image("battle/textfenshux5.png"),this.score_5text.pivot(this.score_5text.width/2,this.score_5text.height/2),this.score_5text.visible=!1,this.score_5text.pos(0,0),this.timeLine_5text.addLabel("0",0).to(this.score_5text,{x:0,alpha:0},0).addLabel("1",0).to(this.score_5text,{x:131,alpha:1},350).addLabel("2",0).to(this.score_5text,{alpha:0},150,null,200),this.timeLine_5text.on(Event.COMPLETE,this,this.onCompleteTimeLine,[this.score_5text]),this.shield=new Sprite,this.shield.loadImage("battle/hudun.png");var s=this.shield.getBounds();this.shield.pivot(s.width/2,s.height/2),this.shield.visible=!1,this.timeLine_shield=new TimeLine,this.timeLine_shield.addLabel("0",0).to(this.shield,{rotation:360},1500),this.timeLine_shield.play(0,!0),this.timeLine_shield_text=new TimeLine,this.shield_text=new laya.ui.Image("battle/texthudun.png"),this.shield_text.pivot(this.shield_text.width/2,this.shield_text.height/2),this.shield_text.pos(-10,0),this.shield_text.visible=!1,this.timeLine_shield_text.addLabel("0",0).to(this.shield_text,{y:0,alpha:0},0).addLabel("1",0).to(this.shield_text,{y:-100,alpha:1},350).addLabel("2",0).to(this.shield_text,{alpha:0},150,null,200),this.timeLine_shield_text.on(Event.COMPLETE,this,this.onCompleteTimeLine,[this.shield_text]),this.runawayBg=new Sprite,this.runawayBg.loadImage("battle/runawayBg.png"),this.addChild(this.runawayBg),s=this.runawayBg.getBounds(),this.runawayBg.pivot(s.width/2,s.height/2),this.runawayBg.visible=!1;var a=new TimeLine;a.addLabel("0",0).to(this.runawayBg,{scaleX:.8,scaleY:.8},200).addLabel("1",0).to(this.runawayBg,{scaleX:1,scaleY:1},200),a.play(0,!0),this.timeLine_runaway_text=new TimeLine,this.runaway_text=new laya.ui.Image("battle/textbaozou.png"),this.runaway_text.pivot(this.runaway_text.width/2,this.runaway_text.height/2),this.runaway_text.pos(-10,0),this.runaway_text.visible=!1,this.timeLine_runaway_text.addLabel("0",0).to(this.runaway_text,{y:0,alpha:0},0).addLabel("1",0).to(this.runaway_text,{y:-100,alpha:1},350).addLabel("2",0).to(this.runaway_text,{alpha:0},150,null,200),this.timeLine_runaway_text.on(Event.COMPLETE,this,this.onCompleteTimeLine,[this.runaway_text]),this.timeLine_score=new TimeLine,this.score=new Sprite,this.score.loadImage("battle/xishuijin.png"),s=this.score.getBounds(),this.score.pivot(s.width/2,s.height/2),this.score.visible=!1,this.timeLine_score.addLabel("0",0).to(this.score,{scaleX:1,scaleY:1},0).addLabel("1",0).to(this.score,{scaleX:0,scaleY:0},600),this.timeLine_score.on(Event.COMPLETE,this,this.onCompleteTimeLine,[this.score]),this.timeLine_magnet=new TimeLine,this.magnet=new laya.ui.Image("battle/cishixifu.png"),this.magnet.pivot(this.magnet.width/2,this.magnet.height/2),this.magnet.visible=!1,this.timeLine_magnet.addLabel("0",0).to(this.magnet,{scaleX:1,scaleY:1,alpha:0},0).addLabel("1",0).to(this.magnet,{scaleX:.5,scaleY:.5,alpha:.5},700).addLabel("2",0).to(this.magnet,{scaleX:0,scaleY:0,alpha:1},700),this.addChild(this.magnet),this.timeLine_magnet_text=new TimeLine,this.magnet_text=new laya.ui.Image("battle/textnengshi.png"),this.magnet_text.pivot(this.magnet_text.width/2,this.magnet_text.height/2),this.magnet_text.visible=!1,this.magnet_text.pos(0,0),this.timeLine_magnet_text.addLabel("0",0).to(this.magnet_text,{y:0,alpha:0},0).addLabel("1",0).to(this.magnet_text,{y:-100,alpha:1},200).addLabel("2",0).to(this.magnet_text,{alpha:0},150,null,200),this.timeLine_magnet_text.on(Event.COMPLETE,this,this.onCompleteTimeLine,[this.magnet_text]),this.timeLine_hp_text=new TimeLine,this.hp_text=new laya.ui.Image("battle/hphf.png"),this.hp_text.pivot(this.hp_text.width/2,this.hp_text.height/2),this.hp_text.visible=!1,this.hp_text.pos(0,0),this.timeLine_hp_text.addLabel("0",0).to(this.hp_text,{y:0,alpha:0},0).addLabel("1",0).to(this.hp_text,{y:-100,alpha:1},350).addLabel("2",0).to(this.hp_text,{alpha:0},150,null,200),this.timeLine_hp_text.on(Event.COMPLETE,this,this.onCompleteTimeLine,[this.hp_text]),this.timeLine_eat2=new TimeLine,this.score_eat2=new laya.ui.Image("battle/dcx2.png"),this.score_eat2.anchorX=.5,this.score_eat2.anchorY=.5,this.score_eat2.visible=!1,this.score_eat2.pos(0,0),this.timeLine_eat2.addLabel("0",0).to(this.score_eat2,{x:0,y:0,alpha:0},0).addLabel("1",0).to(this.score_eat2,{x:70,y:-12,alpha:1},300).addLabel("2",0).to(this.score_eat2,{alpha:0},300),this.timeLine_eat2.on(Event.COMPLETE,this,this.onCompleteTimeLine,[this.score_eat2]),this.timeLine_eat5=new TimeLine,this.score_eat5=new laya.ui.Image("battle/dcx5.png"),this.score_eat5.visible=!1,this.score_eat5.anchorX=.5,this.score_eat5.anchorY=.5,this.score_eat5.pos(0,0),this.timeLine_eat5.addLabel("0",0).to(this.score_eat5,{x:0,y:0,alpha:0},0).addLabel("1",0).to(this.score_eat5,{x:70,y:-12,alpha:1},300).addLabel("2",0).to(this.score_eat5,{alpha:0},300),this.timeLine_eat5.on(Event.COMPLETE,this,this.onCompleteTimeLine,[this.score_eat5]),this.timeLine_dian=new TimeLine,this.shieldTime=0,this.runawayTime=0,this.magnetTime=0,this.score2TimeTime=0,this.score5TimeTime=0,this.skillCount=0,this.init()}e.move_speed=10,e.shoot_cd=200,e.missile_cd=800,e.FLY="player_run",e.FIRE="player_fire",e.HURT="player_hurt",e.DIE="player_die",e.action_move="normal",e.action_right_move="you",e.action_right_stop="you_b",e.action_left_move="zuo",e.action_left_stop="zuo_b",e.min_x=20,e.max_x=Config.GameWidth-20,e.min_y=20,e.max_y=Config.GameHeight-20,e.begin_x=Config.GameWidthHalf,e.begin_y=Config.GameHeight-100,e.hp_limit=10,e.hp_limit_1=20,e.hp_limit_2=30,e.state_ordinary=0,e.state_runaway=1,Laya["class"](e,"Player",Sprite);var t=e.prototype;e.cached=!1,t.parseComplete=function(){this.mArmature=this.mFactory.buildArmature(0),this.addChild(this.mArmature),this.mArmature.play(e.action_move,!0),this.init()},t.onCompleteTimeLine=function(e){e.visible=!1},t.setBoundCollision=function(){if(0==this.collisionWidth&&this.mArmature){var e=this.mArmature.getBounds();this.boundWidth=e.width,this.boundHeight=e.height,this.collisionWidth=e.width/2,this.collisionHeight=e.height/2,this.collisionWidth=e.width/2-20,this.collisionHeight=e.height/2-20}},t.setState=function(t){this.state=t,this.state==e.state_ordinary?(this.shootCd=500,this.missileCd=3e3,this.runawayBg.visible=!1):this.state==e.state_runaway&&(this.shootCd=200,this.missileCd=1500,this.runawayBg.visible=!0)},t.init=function(){if(this.hitTime=0,this.visible=!0,this.setState(e.state_ordinary),e.cached||(e.cached=!0,laya.display.Animation.createFrames(["player/plane0.png"],e.FLY)),null==this.body){this.body=new laya.display.Animation,this.body.interval=100,this.addChild(this.body);var t=new laya.ui.Image("battle/dian1.png");t.pivot(t.width/2,t.height/2),this.addChild(t);var i=new laya.ui.Image("battle/dian.png");i.pivot(i.width/2,i.height/2),this.addChild(i),this.timeLine_dian.addLabel("0",0).to(i,{alpha:1},500).addLabel("1",0).to(i,{alpha:0},500),this.collisionWidth=t.width/2,this.collisionHeight=t.height/2}this.addChild(this.shield),this.addChild(this.shield_text),this.addChild(this.score_2time),this.addChild(this.score_2text),this.addChild(this.score_5time),this.addChild(this.score_5text),this.addChild(this.score),this.addChild(this.runaway_text),this.addChild(this.magnet_text),this.addChild(this.hp_text),this.start()},t.start=function(){this.visible=!0,this.hp=this.hp_limit,this.x=e.begin_x,this.y=e.begin_y,this.shieldTime=0,this.runawayTime=0,this.magnetTime=0,this.score2TimeTime=0,this.score5TimeTime=0,this.skillCount=0,this.runawayBg.visible=!1,this.shield.visible=!1,this.timeLine_shield.pause(),this.magnet.visible=!1,this.timeLine_magnet.pause(),this.score_2text.visible=!1,this.timeLine_2text.pause(),this.score_2time.visible=!1,this.timeLine_2time.pause(),this.score_5text.visible=!1,this.timeLine_5text.pause(),this.score_5time.visible=!1,this.timeLine_5time.pause(),this.timeLine_dian.play(0,!0),this.shootTime=Browser.now()+this.shootCd,this.missileTime=Browser.now()+this.missileCd,this.playAction(e.FLY)},t.playAction=function(e){if(this.action!=e){this.action=e,this.body.play(0,!0,this.action);var t=this.body.getBounds();this.body.pivot(t.width/2,t.height/2),this.boundWidth=t.width,this.boundHeight=t.height,this.collisionWidth_eat=t.width/2,this.collisionHeight_eat=t.height/2}},t.onLoop=function(t){if(!Config.isPause&&!Config.isOver){this.shieldTime<t.gameTime&&(this.shield.visible=!1,this.timeLine_shield.pause()),this.magnetTime<t.gameTime&&(this.magnet.visible=!1,this.timeLine_magnet.pause()),this.runawayTime<t.gameTime&&this.state==e.state_runaway&&this.setState(e.state_ordinary),this.skillCount>0&&(t.createSkillBombing(this.skillCount),this.skillCount--),this.score2TimeTime<t.gameTime&&(this.score_2text.visible=!1,this.timeLine_2text.pause(),this.score_2time.visible=!1,this.timeLine_2time.pause()),this.score5TimeTime<t.gameTime&&(this.score_5text.visible=!1,this.timeLine_5text.pause(),this.score_5time.visible=!1,this.timeLine_5time.pause()),this.x+=this.speedX,this.x<e.min_x?(this.x=e.min_x,this.speedX=0):this.x>e.max_x&&(this.x=e.max_x,this.speedX=0),this.y+=this.speedY,this.y<e.min_y?(this.y=e.min_y,this.speedY=0):this.y>e.max_y&&(this.y=e.max_y,this.speedY=0);var i=Browser.now();this.shootTime<=i&&(this.shootTime=i+this.shootCd,t.playerFire(BulletManager.type_default)),this.missileTime<=i&&(this.missileTime=i+this.missileCd,t.playerFire(BulletManager.type_missile))}},t.setSkillCount=function(e){this.skillCount=e},t.playerMove=function(e,t){this.speedX=e,this.speedY=t},t.moveX=function(e){0==e||0!=this.speedX&&this.speedX/Math.abs(this.speedX)!=e/Math.abs(e)?this.speedX=0:(this.speedX=this.speed*e,this.speedY=0)},t.moveY=function(e){0==e||0!=this.speedY&&this.speedY/Math.abs(this.speedY)!=e/Math.abs(e)?this.speedY=0:(this.speedY=this.speed*e,this.speedX=0)},t.playerMoveTo=function(e,t){var i=this.boundWidth/2,s=this.boundHeight/2;i>e?e=i:e>Config.GameWidth-i&&(e=Config.GameWidth-i),s>t?t=s:t>Config.GameHeight-s&&(t=Config.GameHeight-s),this.x=e,this.y=t},t.getAttack=function(e){return this.runawayTime>e?getValueByPercentage(this.attack,FoodManager.runaway_energy_attack):this.attack},t.collisionLogic=function(e,t){if(!this.visible||!e.visible)return!1;if(e.type==BulletManager.type_laser&&e.attackRecordTime>t.gameTime)return!1;e.attackRecordTime=t.gameTime+e.attackTime;var i=!1,s=Math.abs(this.x-e.x),a=Math.abs(this.y-e.y);if(s<this.collisionWidth+e.collisionWidth&&a<this.collisionHeight+e.collisionHeight){var l=e.attack;0>=l&&(l=1),this.beHurt(l,t),e.hide(!0),this.hp<=0?t.addExplode(this.x,this.y,Explode.PLANE,0):e.type==BulletManager.type_missile?t.addExplode(e.x,e.y,Explode.missile,0):e.type==BulletManager.type_laser?t.addExplode(e.x,e.y,Explode.laser,0):t.addExplode(e.x,e.y,Explode.BULLET,0),i=!0}return i},t.collisionLogicEnemy=function(e,t){var i=!1,s=Math.abs(this.x-e.x),a=Math.abs(this.y-e.y);if(!(this.hitTime>t.gameTime||e.state!=Enemy.FLY)){if(s<this.collisionWidth+e.collisionWidth&&a<this.collisionHeight+e.collisionHeight){this.hitTime=t.gameTime+1e3;var l=e.attack;0>=l&&(l=1),this.beHurt(l,t),l=this.getAttack(t.gameTime),0>=l&&(l=1),e.beHurt(l,t),e.hitTime=t.gameTime+1e3,(this.hp<=0||e.hp<=0)&&t.addExplode(this.x,this.y,Explode.PLANE,10),i=!0}return i}},t.collisionLogicFood=function(t,i){var s=!1,a=Math.abs(this.x-t.x),l=Math.abs(this.y-t.y);if(a<this.collisionWidth_eat+t.collisionWidth&&l<this.collisionHeight_eat+t.collisionHeight){t.beEat();var n=dataManager.toolList[t.type].goodsValue;switch(this.score5TimeTime>i.gameTime?n=getValueByPercentage(n,FoodManager.score_5time):this.score2TimeTime>i.gameTime?n=getValueByPercentage(n,FoodManager.score_2time):this.runawayTime>i.gameTime&&(n=getValueByPercentage(n,FoodManager.runaway_energy_score)),n=Math.ceil(n),t.type){case FoodManager.type_crystal_green:soundPlayer.playSound(SoundMag.effect_sfx_chihuoyanzidan),this.score.visible=!0,this.timeLine_score.play(0,!1),this.score5TimeTime>i.gameTime?(this.score_eat5.visible=!0,this.timeLine_eat5.play(0,!1)):this.score2TimeTime>i.gameTime&&(this.score_eat2.visible=!0,this.timeLine_eat2.play(0,!1)),i.addScore(n);break;case FoodManager.type_crystal_blue:soundPlayer.playSound(SoundMag.effect_sfx_chihuoyanzidan),this.score.visible=!0,this.timeLine_score.play(0,!1),this.score5TimeTime>i.gameTime?(this.score_eat5.visible=!0,this.timeLine_eat5.play(0,!1)):this.score2TimeTime>i.gameTime&&(this.score_eat2.visible=!0,this.timeLine_eat2.play(0,!1)),i.addScore(n);break;case FoodManager.type_crystal_purple:soundPlayer.playSound(SoundMag.effect_sfx_chihuoyanzidan),this.score.visible=!0,this.timeLine_score.play(0,!1),this.score5TimeTime>i.gameTime?(this.score_eat5.visible=!0,this.timeLine_eat5.play(0,!1)):this.score2TimeTime>i.gameTime&&(this.score_eat2.visible=!0,this.timeLine_eat2.play(0,!1)),i.addScore(n);break;case FoodManager.type_crystal_yellow:soundPlayer.playSound(SoundMag.effect_sfx_chihuoyanzidan),this.score.visible=!0,this.timeLine_score.play(0,!1),this.score5TimeTime>i.gameTime?(this.score_eat5.visible=!0,this.timeLine_eat5.play(0,!1)):this.score2TimeTime>i.gameTime&&(this.score_eat2.visible=!0,this.timeLine_eat2.play(0,!1)),i.addScore(n);break;case FoodManager.type_crystal_diamond:soundPlayer.playSound(SoundMag.effect_sfx_chihuoyanzidan);break;case FoodManager.type_hp_recovery:soundPlayer.playSound(SoundMag.effect_sfx_chihuzhao),this.hp_text.visible=!0,this.timeLine_hp_text.play(0,!1),this.recoveryHp(getValueByPercentage(this.hp_limit,dataManager.toolList[t.type].goodsValue)),i.playerChangeHp(this.hp,this.hp_limit);break;case FoodManager.type_quantum_shield:soundPlayer.playSound(SoundMag.effect_sfx_chihuzhao),this.shield_text.visible=!0,this.timeLine_shield_text.play(0,!1),this.shield.visible=!0,this.timeLine_shield.play(0,!0),this.shieldTime=i.gameTime+1e3*dataManager.toolList[t.type].goodsValue;break;case FoodManager.type_runaway_energy:soundPlayer.playSound(SoundMag.effect_sfx_shiquzidan),this.runaway_text.visible=!0,this.timeLine_runaway_text.play(0,!1),this.runawayTime=i.gameTime+1e3*dataManager.toolList[t.type].goodsValue,this.setState(e.state_runaway);break;case FoodManager.type_energy_magnet:soundPlayer.playSound(SoundMag.effect_sfx_chihuzhao),this.magnet_text.visible=!0,this.timeLine_magnet_text.play(0,!1),this.magnet.visible=!0,this.timeLine_magnet.play(0,!0),this.magnetTime=i.gameTime+FoodManager.energy_magnet_time;break;case FoodManager.type_score_time_2:soundPlayer.playSound(SoundMag.effect_sfx_chihuzhao),this.score2TimeTime=i.gameTime+1e3*dataManager.toolList[t.type].goodsValue,this.score5TimeTime=0,this.score_2text.visible=!0,this.timeLine_2text.play(0,!1),this.score_2time.visible=!0,this.timeLine_2time.play(0,!0);break;case FoodManager.type_score_time_5:soundPlayer.playSound(SoundMag.effect_sfx_chihuzhao),this.score2TimeTime=0,this.score5TimeTime=i.gameTime+1e3*dataManager.toolList[t.type].goodsValue,this.score_5text.visible=!0,this.timeLine_5text.play(0,!1),this.score_5time.visible=!0,this.timeLine_5time.play(0,!0)}s=!0}return s},t.recoveryHp=function(t){this.hp+=t,this.hp>e.hp_limit_2&&(this.hp=e.hp_limit_2)},t.beHurt=function(e,t){this.shield.visible||(this.hp-=e,t.playerChangeHp(this.hp,this.hp_limit),t.createHurtText(this.x,this.y,e),t.batterNumberToZero(),this.hp<=0&&(this.hp=0,t.gameOver(),this.hide(),soundPlayer.playSound(SoundMag.effect_sfx_dabaozha)))},t.hide=function(){
this.timeLine_dian.pause(),this.visible=!1}}(),function(){function e(){e.__super.call(this),this.state=e.FLY,this.type=EnemyManager.type_ordinary,this.classIndex=0,this.action=null,this.body=new laya.display.Animation,this.body.interval=100,this.addChild(this.body),this.collisionWidth=0,this.collisionHeight=0,this.boundWidth=0,this.boundHeight=0,this.enemyId=0,this.hp=1,this.hp_limit=1,this.attack=1,this.speed=0,this.bulletSwitch=0,this.resId=null,this.skills=null,this.moveType=EnemyManager.move_type_down,this.flop=null,this.skillIndex=null,this.skillTime=null,this.bullets=[],this.beginTime=0,this.explodeIndex=0,this.explodeCount=0,this.hitTime=0,this.warningOver=!0,this.warningTime=0,this.timeLine_warning_line=new TimeLine,this.warning_line=new laya.ui.Image("battle/miaozhun.png"),this.warning_line.visible=!1,this.warning_line.anchorX=.5,this.timeLine_warning_line.addLabel("0",0).to(this.warning_line,{alpha:0},0).addLabel("1",0).to(this.warning_line,{alpha:1},300),this.timeLine_warning=new TimeLine,this.warning=new laya.ui.Image("battle/miaozhunhud.png"),this.warning.visible=!1,this.warning.anchorX=.5,this.warning.anchorY=.5,this.timeLine_warning.addLabel("0",0).to(this.warning,{rotation:72,scaleX:.75,scaleY:.75},200).addLabel("1",0).to(this.warning,{rotation:72,scaleX:1,scaleY:1},200)}e.CLASSID=1,e.FLY="enemy_run",e.DIE="enemy_die",e.explode="enemy_explode",e.hide="enemy_hide",Laya["class"](e,"Enemy",Sprite);var t=e.prototype;e.cached=!1,t.init=function(t,i,s,a,l,n,o,h,r,d,p,m,u,y){this.setState(e.FLY),i==EnemyManager.type_missile?(this.warningOver=!1,this.warningTime=y+3e3,this.warning_line.visible=!0,this.warning_line.pos(a,0),this.timeLine_warning_line.play(0,!0),this.warning.visible=!0,this.warning.pos(a,60),this.timeLine_warning.play(0,!0),t.addChild(this.warning_line),t.addChild(this.warning)):this.warningOver=!0,this.hitTime=0,this.classIndex=e.CLASSID++,this.visible=!0,this.type=i,this.enemyId=s,this.hp=n,this.attack=o,this.resId=h,this.hp_limit=n,this.speed=r,this.skills=d,this.moveType=p,this.bulletSwitch=m,this.flop=u,this.beginTime=y,this.explodeIndex=0,this.explodeCount=0,this.skillIndex=[],this.skillTime=[];for(var c=this.skills.length,f=0;c>f;f++)this.skillIndex[f]=0,this.skillTime[f]=Browser.now();this.bullets=[],e.cached||(e.cached=!0),this.pos(a,l),this.hurtTime=0,this.playAction(e.FLY+this.resId)},t.onCompleteTimeLine=function(e){e.visible=!1},t.setState=function(e){this.state=e},t.playAction=function(e){if(this.action!=e){this.action=e,this.body.play(0,!0,this.action);var t=this.body.getBounds();this.boundWidth=t.width,this.boundHeight=t.height,this.collisionWidth=t.width/2,this.collisionHeight=t.height/4,this.body.pivot(t.width/2,t.height/2)}},t.onLoop=function(t){if(!Config.isPause&&!Config.isOver&&this.visible){if(!this.warningOver)return void(this.warningTime<t.gameTime&&(this.warningOver=!0,this.warning_line.visible=!1,this.timeLine_warning_line.pause(),this.warning_line.removeSelf(),this.warning.visible=!1,this.timeLine_warning.pause(),this.warning.removeSelf()));if(this.warning_line.visible&&(this.warning_line.visible=!1,this.timeLine_warning_line.pause(),this.warning_line.removeSelf()),this.warning.visible&&(this.timeLine_warning.pause(),this.warning.visible=!1,this.warning.removeSelf()),this.state==e.explode){var i=this.x,s=this.y;if(3==this.explodeIndex){switch(this.explodeCount){case 3:i+=0,s+=this.boundHeight/4;break;case 2:i+=this.boundWidth/4,s+=-this.boundHeight/4;break;case 1:i+=-this.boundWidth/4,s+=-this.boundHeight/4}t.addExplode(i,s,Explode.electricity,0),this.explodeIndex--,this.explodeCount<1&&(this.explodeIndex--,this.explodeCount=6)}else 2==this.explodeIndex?(i+=getRandomBetween(-this.boundWidth/4,this.boundWidth/4),s+=getRandomBetween(-this.boundHeight/4,this.boundHeight/4),t.addExplode(i,s,Explode.smoke,0),this.explodeCount<1&&this.explodeIndex--):1==this.explodeIndex&&(i+=0,s+=this.boundHeight/4,t.addExplode(i,s,Explode.boss,0),i+=-this.boundWidth/8,s+=0,t.addExplode(i,s,Explode.boss,0),i+=this.boundWidth/8,s+=this.boundHeight/4,t.addExplode(i,s,Explode.boss,0),i+=-this.boundWidth/4,s+=-this.boundHeight/4,t.addExplode(i,s,Explode.boss,0),i+=this.boundWidth/4,s+=-this.boundHeight/4,t.addExplode(i,s,Explode.boss,0),this.setState(e.DIE),Laya.timer.once(200,this,this.bossHide,[t]));return void this.explodeCount--}if(this.state==e.FLY){this.move();var a=Browser.now(),l=this.skills.length,n=0,o=0;for(o=0;l>o;o++)if(this.skills[o].skillType==Config.skill_type_time)n=this.skills[o].skills.length,n>0&&this.skillTime[o]+this.skills[o].skills[this.skillIndex[o]][0]<=a&&(this.skillTime[o]=a,t.enemyFire(this,this.x,this.y,this.skills[o].skills[this.skillIndex[o]][1]),this.skillIndex[o]++,this.skillIndex[o]>=n&&(this.skillIndex[o]=0));else if(this.skills[o].skillType==Config.skill_type_hp_percentage){var h=getPercentage(this.hp,this.hp_limit);n=this.skills[o].skills.length,this.skillIndex[o]>=0&&this.skillIndex[o]<n&&h>0&&h<=this.skills[o].skills[this.skillIndex[o]][0]&&(t.enemyFire(this,this.x,this.y,this.skills[o].skills[this.skillIndex[o]][1]),this.skillIndex[o]++)}else this.skills[o].skillType==Config.skill_type_hp_value&&(n=this.skills[o].skills.length,this.skillIndex[o]>=0&&this.skillIndex[o]<n&&this.hp>0&&this.hp<=this.skills[o].skills[this.skillIndex[o]][0]&&(t.enemyFire(this,this.x,this.y,this.skills[o].skills[this.skillIndex[o]][1]),this.skillIndex[o]++));for(l=this.bullets.length,o=l-1;o>-1;o--)this.bullets[o].bulletNumber>0?a>this.bullets[o].bulletTime&&(t.enemyShoot(this,this.x,this.y,this.bullets[o].bulletId,this.bullets[o].bulletAngle),this.bullets[o].bulletNumber-=1,this.bullets[o].bulletTime=Browser.now()+this.bullets[o].timeInterval,this.bullets[o].bulletAngle+=this.bullets[o].angleInterval):this.bullets.splice(o,1)}}},t.bossHide=function(e){this.hide(),e.enemyDie(this)},t.addBullet=function(e,t,i,s,a){this.bullets[this.bullets.length]={bulletId:e,bulletTime:Browser.now()+t,timeInterval:t,bulletNumber:i,bulletAngle:s,angleInterval:a}},t.move=function(){this.moveType==EnemyManager.move_type_down?(this.y+=this.speed,this.y>=Config.GameHeight+this.boundHeight&&this.hide()):this.moveType==EnemyManager.move_type_right?(this.x+=this.speed,this.x>=Config.GameWidth+this.boundWidth&&this.hide()):this.moveType==EnemyManager.move_type_left?(this.x-=this.speed,this.x<=-this.boundWidth&&this.hide()):this.moveType==EnemyManager.move_type_float&&this.y<this.boundHeight/2+50&&(this.y+=this.speed)},t.hide=function(){this.setState(e.hide),this.warning_line.visible&&(this.warning_line.visible=!1,this.timeLine_warning_line.pause(),this.warning_line.removeSelf()),this.warning.visible&&(this.timeLine_warning.pause(),this.warning.visible=!1,this.warning.removeSelf()),this.visible=!1,this.removeSelf(),this.bullets.splice(0,this.bullets.length),Laya.Pool.recover("Enemy",this)},t.isDisregard=function(e){if(e.isBig()){var t=Browser.now();return this.hurtTime+BulletManager.hurtCd<=t?(this.hurtTime=t,!0):!1}return!1},t.collisionLogic=function(t,i){if(this.visible&&t.visible&&!this.isDisregard(t)&&this.state==e.FLY&&t.type!=BulletManager.type_skill_laser){var s=Math.abs(this.x-t.x),a=Math.abs(this.y-t.y);if(t.isBig()||s<this.collisionWidth+t.collisionWidth&&a<this.collisionHeight+t.collisionHeight){var l=t.attack;0>=l&&(l=1),t.type==BulletManager.type_skill_laser&&(this.type==EnemyManager.type_boss?l=parseInt(this.hp_limit/3):this.type!=EnemyManager.type_ordinary&&this.type!=EnemyManager.type_elite||(l=this.hp)),this.beHurt(l,i),t.shouldHide()&&t.hide(!0),this.hp<=0||(t.type==BulletManager.type_missile?i.addExplode(t.x,t.y,Explode.missile,0):i.addExplode(t.x,t.y,Explode.BULLET,0))}}},t.beHurt=function(t,i){this.state==e.FLY&&(this.hp-=t,i.createHurtText(this.x,this.y,t),this.type==EnemyManager.type_boss&&i.bossChangeHp(this.hp,this.hp_limit),this.hp<=0&&(this.hp=0,this.type==EnemyManager.type_boss?(this.explodeIndex=3,this.explodeCount=3,this.setState(e.explode)):(i.enemyDie(this),this.hide())))}}(),function(){function e(){e.__super.call(this),this.state=e.state_load,this.camp=0,this.type=0,this.attack=1,this.speed=0,this.speedX=0,this.speedY=0,this.resId=null,this.lifeTime=0,this.attackTime=0,this.beingTime=0,this.attackRecordTime=0,this.canAttack=!1,this.body=new Animation,this.body.interval=100,this.addChild(this.body),this.body.on(Event.COMPLETE,this,this.onPlayComplete),this.collisionWidth=0,this.collisionHeight=0,this.boundWidth=0,this.boundHeight=0,this.track=null,this.trackClassId=-1,this.shooter=null,this.laserHeihgt=0,this.xOffset=0,this.yOffset=0,this.timeLine=new TimeLine}Laya["class"](e,"Bullet",Sprite);var t=e.prototype;e.FLY="bullet_move",e.FIRE="bullet_fire",e.DIE="bullet_die",e.cached=!1,e.state_load=0,e.state_move=1,e.state_hide=2,t.init=function(t,i,s,a,l,n,o,h,r,d,p,m,u,y,c,f){this.scale(1,1),this.visible=!0,this.rotation=0,this.camp=s,this.resId=r,this.beingTime=d,this.attackRecordTime=d,this.shooter=m,this.laserHeihgt=0,this.lifeTime=d+u,this.attackTime=y,this.xOffset=c,this.yOffset=f,e.cached||(e.cached=!0),this.pos(t,i),this.type=a,this.attack=l,this.speed=n,this.speedX=o,this.speedY=h,this.canAttack=!1,this.camp==BulletManager.camp_player&&this.type==BulletManager.type_missile?(this.timeLine.reset(),this.scale(.5,.5),p?this.timeLine.addLabel("0",0).to(this,{x:t-40,y:i+15,scaleX:1,scaleY:1},400).addLabel("1",0).to(this,{x:t-80,y:i-70},300):this.timeLine.addLabel("0",0).to(this,{x:t+40,y:i+15,scaleX:1,scaleY:1},400).addLabel("1",0).to(this,{x:t+80,y:i-70},300),this.timeLine.play(0,!1),this.timeLine.on(Event.COMPLETE,this,this.missileFlashOver)):"tuoyuanxing_s"==this.resId||"yuanxing_m_2"==this.resId?(this.timeLine.reset(),this.timeLine.addLabel("0",0).to(this,{rotation:360},1500),this.timeLine.play(0,!0)):"leidianqiu_l_1"==this.resId||"leidianqiu_l_2"==this.resId||"leidianqiu_xl"==this.resId||"yuanxing_xl_1"==this.resId?(this.timeLine.reset(),this.timeLine.addLabel("0",0).to(this,{scaleX:1,scaleY:1,rotation:60},0).addLabel("1",0).to(this,{scaleX:.95,scaleY:.95,rotation:60},250).addLabel("2",0).to(this,{scaleX:1,scaleY:1,rotation:60},250),this.timeLine.play(0,!0)):this.timeLine.pause(),this.type==BulletManager.type_laser||this.type==BulletManager.type_skill_laser,this.playAction(e.FLY+this.resId)},t.setState=function(e){this.state=e},t.onPlayComplete=function(){this.type==BulletManager.type_laser?this.hide():this.type==BulletManager.type_skill_bombing?(this.shooter.canUseBombing=!0,this.hide()):this.type==BulletManager.type_skill_laser&&(this.shooter.canUseLaser=!0,this.hide())},t.playAction=function(e){this.body.play(0,!0,e);var t=this.body.getBounds();this.boundWidth=t.width,this.boundHeight=t.height,this.body.pivot(t.width/2,t.height/2),this.type==BulletManager.type_skill_laser?(this.collisionWidth=t.width/4,this.collisionHeight=t.height):this.type==BulletManager.type_laser?(this.collisionWidth=t.width/4,this.collisionHeight=t.height):(this.collisionWidth=t.width/4,this.collisionHeight=t.height/4)},t.missileFlashOver=function(){this.timeLine.pause(),this.canAttack=!0},t.onLoop=function(e,t){if(!Config.isPause&&!Config.isOver&&this.visible){if(this.camp==BulletManager.camp_player)if(this.type==BulletManager.type_missile){if(this.canAttack)if(this.track&&this.track.visible&&this.trackClassId==this.track.classIndex){var i=this.track.x-this.x,s=this.track.y-this.y;0==i&&(i=1);var a=Math.atan(s/i);this.rotation=180*a/Math.PI,this.speedX=Math.abs(this.speed)*Math.cos(a),this.speedY=Math.abs(this.speed)*Math.sin(a),0>i&&(this.speedX=-this.speedX,this.speedY=-this.speedY,this.rotation+=180),this.rotation+=90,this.x+=this.speedX,this.y+=this.speedY}else this.x+=this.speedX,this.y+=this.speedY,e.reTrack(this)}else this.type==BulletManager.type_skill_laser?this.shooter.visible?this.pos(this.shooter.x,this.shooter.y-500):this.hide():(this.x+=this.speedX,this.y+=this.speedY);else this.type==BulletManager.type_laser?this.shooter.visible?(this.boundHeight>0&&this.laserHeihgt<=Config.GameHeight&&(this.laserHeihgt+=this.speedY,this.collisionHeight=this.laserHeihgt,this.body.scaleY=this.laserHeihgt/this.boundHeight),this.pos(this.shooter.x+this.xOffset,this.shooter.y+this.yOffset+this.laserHeihgt/2),this.lifeTime<t&&this.hide()):this.hide():(this.x+=this.speedX,this.y+=this.speedY);this.type!=BulletManager.type_laser&&this.type!=BulletManager.type_skill_bombing&&this.type!=BulletManager.type_skill_laser&&(this.x<BulletManager.min_x||this.x>BulletManager.max_x||this.y<BulletManager.min_y||this.y>BulletManager.max_y)&&this.hide(!1)}},t.hide=function(e){this.timeLine.pause(),this.body.scaleY=1,this.visible=!1,this.track=null,this.trackClassId=-1,this.removeSelf(),Laya.Pool.recover("Bullet",this),e&&soundPlayer.playSound(SoundMag.effect_sfx_beiji)},t.setTrack=function(e){this.track=e,this.trackClassId=e.classIndex},t.isBig=function(){return this.type==BulletManager.type_skill_bombing},t.shouldHide=function(){return this.type!=BulletManager.type_laser&&this.type!=BulletManager.type_skill_bombing&&this.type!=BulletManager.type_skill_laser}}(),function(){function e(){e.__super.call(this),this.type=0,this.action=null,this.body=null,this.collisionWidth=0,this.collisionHeight=0,this.speedX=0,this.speedY=0,this.willHide=!1,this.isAttraction=!1}e.FLY="Food_run",Laya["class"](e,"Food",Sprite);var t=e.prototype;e.cached=!1,t.init=function(t,i,s,a,l,n){Math.abs(l)<1&&(l=l>=0?getRandomBetween(1,2.5):-getRandomBetween(1,2.5)),this.visible=!0,this.type=t,this.willHide=n,e.cached||(e.cached=!0),null==this.body&&(this.body=new laya.display.Animation,this.body.interval=100,this.addChild(this.body)),this.pos(i,s),this.playAction(e.FLY+t),this.speedX=a,this.speedY=l,this.isAttraction=!1},t.playAction=function(e){if(this.action!=e){this.action=e,this.body.play(0,!0,this.action);var t=this.body.getBounds();this.collisionWidth=t.width,this.collisionHeight=t.height,this.body.pivot(t.width/2,t.height/2)}},t.resetSpeed=function(){var e=getRandomBetweenInt(0,2*Math.PI);this.speedX=Math.cos(e)*dataManager.toolList[this.type].speed,this.speedY=Math.sin(e)*dataManager.toolList[this.type].speed},t.onLoop=function(e,t){if(!Config.isPause&&!Config.isOver&&this.visible){if(t.magnetTime>e.gameTime){var i=Math.abs(this.x-t.x),s=Math.abs(this.y-t.y);i<this.collisionWidth+t.collisionWidth+FoodManager.energy_magnet_radius&&s<this.collisionHeight+t.collisionHeight+FoodManager.energy_magnet_radius&&(this.isAttraction=!0)}this.move(t)}},t.move=function(e){if(this.isAttraction){var t=e.x-this.x,i=e.y-this.y;0==t&&(t=1);var s=Math.atan(i/t);this.speedX=dataManager.toolList[this.type].speedAttraction*Math.cos(s),this.speedY=dataManager.toolList[this.type].speedAttraction*Math.sin(s),0>t&&(this.speedX=-this.speedX,this.speedY=-this.speedY),this.x+=this.speedX,this.y+=this.speedY}else this.x+=this.speedX,this.y+=this.speedY,(this.x<=FoodManager.min_x||this.x>=FoodManager.max_x)&&(this.speedX=-this.speedX),this.y<=FoodManager.min_y?(this.y=FoodManager.min_y,this.willHide?this.hide():this.speedY=-this.speedY):this.y>=FoodManager.max_y&&(this.y=FoodManager.max_y,this.willHide?this.hide():this.speedY=-this.speedY)},t.hide=function(){this.visible=!1,this.removeSelf(),Laya.Pool.recover("Food",this)},t.beEat=function(){this.hide()}}(),function(){function e(t){e.__super.call(this),this.state=0,this.bg1=null,this.init(t)}e.state_move=0,e.state_stop=1,e.bg_number=2,Laya["class"](e,"Background",Sprite);var t=e.prototype;t.init=function(e){var t=Laya.loader.getRes("battle/bg.jpg");this.bg1=new Sprite,this.bg1.graphics.drawTexture(t,0,0),this.bg1.graphics.drawTexture(t,0,-Config.GameHeight),this.addChild(this.bg1),this.onMove()},t.onMove=function(){this.state=e.state_move},t.onStop=function(){this.state=e.state_stop},t.onLoop=function(){Config.isPause||Config.isOver||this.state==e.state_move&&(this.bg1.y+=Config.bgSpeed,this.bg1.y>=Config.GameHeight&&(this.bg1.y-=Config.GameHeight))}}(),function(){function e(){this.userId=null,this.userName=null,this.headimageurl=null,this.ticketNo=null,this.appUrl=null,this.toolList={10000:{goodsValue:1,speed:5,speedAttraction:15},10001:{goodsValue:5,speed:5,speedAttraction:15},10002:{goodsValue:20,speed:5,speedAttraction:15},10003:{goodsValue:100,speed:5,speedAttraction:15},10100:{goodsValue:1,speed:5,speedAttraction:15},10200:{goodsValue:50,speed:3,speedAttraction:10},10201:{goodsValue:5,speed:3,speedAttraction:10},10202:{goodsValue:5,speed:3,speedAttraction:10},10203:{goodsValue:10,speed:3,speedAttraction:10},10204:{goodsValue:5,speed:3,speedAttraction:10},10205:{goodsValue:5,speed:3,speedAttraction:10}},this.flopList={1000:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:1},1001:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:2},1002:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:3},1003:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:4},1004:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:5},1005:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:6},1006:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:7},1007:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:8},1008:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:9},1009:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:10},1010:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:11},1011:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:12},1012:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:13},1013:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:14},1014:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:15},1015:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:16},1016:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:17},1017:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:18},1018:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:19},1019:{goodsId:1e4,flopType:0,flopValue:100,flopNumber:20},1020:{goodsId:10002,flopType:0,flopValue:100,flopNumber:1},1021:{goodsId:10002,flopType:0,flopValue:100,flopNumber:2},1022:{goodsId:10002,flopType:0,flopValue:100,flopNumber:3},1023:{goodsId:10002,flopType:0,flopValue:100,flopNumber:4},1024:{goodsId:10002,flopType:0,flopValue:100,flopNumber:5},1030:{goodsId:10003,flopType:0,flopValue:100,flopNumber:1},1031:{goodsId:10003,flopType:0,flopValue:100,flopNumber:2},1032:{goodsId:10003,flopType:0,flopValue:100,flopNumber:3},1033:{goodsId:10003,flopType:0,flopValue:100,flopNumber:4},1034:{goodsId:10003,flopType:0,flopValue:100,flopNumber:5},1035:{goodsId:10003,flopType:0,flopValue:100,flopNumber:6},1036:{goodsId:10003,flopType:0,flopValue:100,flopNumber:7},1037:{goodsId:10003,flopType:0,flopValue:100,flopNumber:8},1038:{goodsId:10003,flopType:0,flopValue:100,flopNumber:9},1039:{goodsId:10003,flopType:0,flopValue:100,flopNumber:10},3000:{goodsId:10200,flopType:0,flopValue:10,flopNumber:1},3001:{goodsId:10200,flopType:0,flopValue:20,flopNumber:1},3002:{goodsId:10200,flopType:0,flopValue:30,flopNumber:1},3003:{goodsId:10200,flopType:0,flopValue:40,flopNumber:1},3004:{goodsId:10200,flopType:0,flopValue:50,flopNumber:1},3005:{goodsId:10200,flopType:0,flopValue:60,flopNumber:1},3006:{goodsId:10200,flopType:0,flopValue:70,flopNumber:1},3007:{goodsId:10200,flopType:0,flopValue:80,flopNumber:1},3008:{goodsId:10200,flopType:0,flopValue:90,flopNumber:1},3009:{goodsId:10200,flopType:0,flopValue:100,flopNumber:1},3010:{goodsId:10201,flopType:0,flopValue:10,flopNumber:1},3011:{goodsId:10201,flopType:0,flopValue:20,flopNumber:1},3012:{goodsId:10201,flopType:0,flopValue:30,flopNumber:1},3013:{goodsId:10201,flopType:0,flopValue:40,flopNumber:1},3014:{goodsId:10201,flopType:0,flopValue:50,flopNumber:1},3015:{goodsId:10201,flopType:0,flopValue:60,flopNumber:1},3016:{goodsId:10201,flopType:0,flopValue:70,flopNumber:1},3017:{goodsId:10201,flopType:0,flopValue:80,flopNumber:1},3018:{goodsId:10201,flopType:0,flopValue:90,flopNumber:1},3019:{goodsId:10201,flopType:0,flopValue:100,flopNumber:1},3020:{goodsId:10202,flopType:0,flopValue:10,flopNumber:1},3021:{goodsId:10202,flopType:0,flopValue:20,flopNumber:1},3022:{goodsId:10202,flopType:0,flopValue:30,flopNumber:1},3023:{goodsId:10202,flopType:0,flopValue:40,flopNumber:1},3024:{goodsId:10202,flopType:0,flopValue:50,flopNumber:1},3025:{goodsId:10202,flopType:0,flopValue:60,flopNumber:1},3026:{goodsId:10202,flopType:0,flopValue:70,flopNumber:1},3027:{goodsId:10202,flopType:0,flopValue:80,flopNumber:1},3028:{goodsId:10202,flopType:0,flopValue:90,flopNumber:1},3029:{goodsId:10202,flopType:0,flopValue:100,flopNumber:1},3030:{goodsId:10203,flopType:0,flopValue:10,flopNumber:1},3031:{goodsId:10203,flopType:0,flopValue:20,flopNumber:1},3032:{goodsId:10203,flopType:0,flopValue:30,flopNumber:1},3033:{goodsId:10203,flopType:0,flopValue:40,flopNumber:1},3034:{goodsId:10203,flopType:0,flopValue:50,flopNumber:1},3035:{goodsId:10203,flopType:0,flopValue:60,flopNumber:1},3036:{goodsId:10203,flopType:0,flopValue:70,flopNumber:1},3037:{goodsId:10203,flopType:0,flopValue:80,flopNumber:1},3038:{goodsId:10203,flopType:0,flopValue:90,flopNumber:1},3039:{goodsId:10203,flopType:0,flopValue:100,flopNumber:1},3040:{goodsId:10204,flopType:0,flopValue:10,flopNumber:1},3041:{goodsId:10204,flopType:0,flopValue:20,flopNumber:1},3042:{goodsId:10204,flopType:0,flopValue:30,flopNumber:1},3043:{goodsId:10204,flopType:0,flopValue:40,flopNumber:1},3044:{goodsId:10204,flopType:0,flopValue:50,flopNumber:1},3045:{goodsId:10204,flopType:0,flopValue:60,flopNumber:1},3046:{goodsId:10204,flopType:0,flopValue:70,flopNumber:1},3047:{goodsId:10204,flopType:0,flopValue:80,flopNumber:1},3048:{goodsId:10204,flopType:0,flopValue:90,flopNumber:1},3049:{goodsId:10204,flopType:0,flopValue:100,flopNumber:1},3050:{goodsId:10205,flopType:0,flopValue:10,flopNumber:1},3051:{goodsId:10205,flopType:0,flopValue:20,flopNumber:1},3052:{goodsId:10205,flopType:0,flopValue:30,flopNumber:1},3053:{goodsId:10205,flopType:0,flopValue:40,flopNumber:1},3054:{goodsId:10205,flopType:0,flopValue:50,flopNumber:1},3055:{goodsId:10205,flopType:0,flopValue:60,flopNumber:1},3056:{goodsId:10205,flopType:0,flopValue:70,flopNumber:1},3057:{goodsId:10205,flopType:0,flopValue:80,flopNumber:1},3058:{goodsId:10205,flopType:0,flopValue:90,flopNumber:1},3059:{goodsId:10205,flopType:0,flopValue:100,flopNumber:1}},this.bulletList={10000:{bulletType:100,resId:"yuanxing_s_1",attack:1,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:0,yOffset:0},10100:{bulletType:100,resId:"yuanxing_s_1",attack:1,number:4,lifeTime:0,attackTime:300,speed:8,xOffset:20,yOffset:10},10101:{bulletType:100,resId:"yuanxing_s_1",attack:1,number:4,lifeTime:0,attackTime:300,speed:8,xOffset:-20,yOffset:10},10200:{bulletType:400,resId:"tuoyuanxing_s",attack:1,number:4,lifeTime:0,attackTime:0,speed:8,xOffset:0,yOffset:0},10300:{bulletType:100,resId:"changtiaoxing_m",attack:2,number:4,lifeTime:0,attackTime:300,speed:8,xOffset:20,yOffset:10},10301:{bulletType:100,resId:"changtiaoxing_m",attack:2,number:4,lifeTime:0,attackTime:300,speed:8,xOffset:-20,yOffset:10},10400:{bulletType:400,resId:"yuanxing_s_2",attack:1,number:3,lifeTime:0,attackTime:0,speed:8,xOffset:20,yOffset:10},10401:{bulletType:400,resId:"yuanxing_s_2",attack:1,number:3,lifeTime:0,attackTime:0,speed:8,xOffset:-20,yOffset:10},10500:{bulletType:200,resId:"daodan_s",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:50,yOffset:40},10501:{bulletType:200,resId:"daodan_s",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-50,yOffset:40},11000:{bulletType:100,resId:"yuanxing_s_3",attack:2,number:5,lifeTime:0,attackTime:200,speed:6,xOffset:30,yOffset:10},11001:{bulletType:100,resId:"yuanxing_s_3",attack:2,number:5,lifeTime:0,attackTime:200,speed:6,xOffset:50,yOffset:10},11002:{bulletType:100,resId:"yuanxing_s_3",attack:2,number:5,lifeTime:0,attackTime:200,speed:6,xOffset:-30,yOffset:10},11003:{bulletType:100,resId:"yuanxing_s_3",attack:2,number:5,lifeTime:0,attackTime:200,speed:6,xOffset:-50,yOffset:10},11010:{bulletType:200,resId:"daodan_s",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:40,yOffset:10},11011:{bulletType:200,resId:"daodan_s",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-40,yOffset:10},11100:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:30,yOffset:10},11101:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:20,yOffset:10},11102:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:10,yOffset:10},11103:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:50,yOffset:10},11104:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:60,yOffset:10},11105:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:70,yOffset:10},11106:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-50,yOffset:10},11107:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-60,yOffset:10},11108:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-70,yOffset:10},11109:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-30,yOffset:10},11110:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-20,yOffset:10},11111:{bulletType:100,resId:"yuanxing_s_1",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-10,yOffset:10},11120:{bulletType:400,resId:"fangxing_m_2",attack:2,number:3,lifeTime:0,attackTime:200,speed:8,xOffset:0,yOffset:0},11121:{bulletType:400,resId:"fangxing_m_2",attack:2,number:3,lifeTime:0,attackTime:200,speed:8,xOffset:30,yOffset:10},11122:{bulletType:401,resId:"fangxing_m_2",attack:2,number:3,lifeTime:0,attackTime:200,speed:8,xOffset:-30,yOffset:10},11200:{bulletType:100,resId:"yuanxing_s_3",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:60,yOffset:0},11201:{bulletType:100,resId:"yuanxing_s_3",attack:2,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-60,yOffset:0},12000:{bulletType:100,resId:"leidianqiu_l_1",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:40,yOffset:0},12001:{bulletType:100,resId:"leidianqiu_l_1",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-40,yOffset:0},12010:{bulletType:400,resId:"leidianqiu_l_2",attack:5,number:3,lifeTime:0,attackTime:0,speed:8,xOffset:0,yOffset:0},12100:{bulletType:200,resId:"daodan_l_2",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:30,yOffset:0},12101:{bulletType:200,resId:"daodan_l_2",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:50,yOffset:0},12102:{bulletType:200,resId:"daodan_l_2",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:70,yOffset:0},12103:{bulletType:200,resId:"daodan_l_2",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:90,yOffset:0},12110:{bulletType:200,resId:"daodan_l_2",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-30,yOffset:0},12111:{bulletType:200,resId:"daodan_l_2",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-50,yOffset:0},12112:{bulletType:200,resId:"daodan_l_2",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-70,yOffset:0},12113:{bulletType:200,resId:"daodan_l_2",attack:5,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:-90,yOffset:0},12120:{bulletType:400,resId:"huixuan_m",attack:5,number:6,lifeTime:0,attackTime:0,speed:8,xOffset:0,yOffset:0},12130:{bulletType:400,resId:"fangxing_m_2",attack:5,number:5,lifeTime:0,attackTime:0,speed:8,xOffset:60,yOffset:0},12131:{bulletType:401,resId:"fangxing_m_2",attack:5,number:5,lifeTime:0,attackTime:0,speed:8,xOffset:-60,yOffset:0},12200:{bulletType:100,resId:"huixuan_m",attack:5,number:4,lifeTime:0,attackTime:200,speed:6,xOffset:0,yOffset:0},12210:{bulletType:400,resId:"yuanxing_m_2",attack:5,number:6,lifeTime:0,attackTime:0,speed:6,xOffset:80,yOffset:60},12211:{bulletType:401,resId:"yuanxing_m_2",attack:5,number:6,lifeTime:0,attackTime:0,speed:6,xOffset:-80,yOffset:60},12220:{bulletType:100,resId:"leidianqiu_xl",attack:10,number:1,lifeTime:0,attackTime:0,speed:5,xOffset:0,yOffset:0},13000:{bulletType:400,resId:"yuanxing_m_1",attack:5,number:8,lifeTime:0,attackTime:0,speed:10,xOffset:90,yOffset:20},13001:{bulletType:401,resId:"yuanxing_m_1",attack:5,number:8,lifeTime:0,attackTime:0,speed:10,xOffset:-90,yOffset:20},13010:{bulletType:400,resId:"yuanxing_m_1",attack:5,number:20,lifeTime:0,attackTime:100,speed:8,xOffset:0,yOffset:0},13020:{bulletType:100,resId:"tuoyuanxing_m_1",attack:10,number:6,lifeTime:0,attackTime:200,speed:12,xOffset:75,yOffset:20},13021:{bulletType:100,resId:"tuoyuanxing_m_1",attack:10,number:6,lifeTime:0,attackTime:200,speed:12,xOffset:105,yOffset:20},13022:{bulletType:100,resId:"tuoyuanxing_m_1",attack:10,number:6,lifeTime:0,attackTime:200,speed:12,xOffset:-75,yOffset:10},13023:{bulletType:100,resId:"tuoyuanxing_m_1",attack:10,number:6,lifeTime:0,attackTime:200,speed:12,xOffset:-105,yOffset:10},13100:{bulletType:100,resId:"leidianqiu_xl",attack:10,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:0,yOffset:0},13110:{bulletType:400,resId:"fangxing_m_2",attack:5,number:12,lifeTime:0,attackTime:0,speed:8,xOffset:145,yOffset:-50},13111:{bulletType:401,resId:"fangxing_m_2",attack:5,number:12,lifeTime:0,attackTime:0,speed:8,xOffset:-145,yOffset:-50},13120:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:60,yOffset:-50},13121:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:90,yOffset:-50},13122:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:120,yOffset:-50},13123:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:150,yOffset:-50},13130:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:-60,yOffset:-50},13131:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:-90,yOffset:-50},13132:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:-120,yOffset:-50},13133:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:-150,yOffset:-50},13200:{bulletType:100,resId:"tuoyuanxing_l",attack:10,number:8,lifeTime:0,attackTime:300,speed:12,xOffset:10,yOffset:100},13201:{bulletType:100,resId:"tuoyuanxing_l",attack:10,number:8,lifeTime:0,attackTime:300,speed:12,xOffset:-10,yOffset:100},13210:{bulletType:300,resId:"jiguang_xl",attack:10,number:1,lifeTime:2e3,attackTime:500,speed:30,xOffset:0,yOffset:0},13220:{bulletType:400,resId:"fangxing_m_1",attack:5,number:12,lifeTime:0,attackTime:200,speed:10,xOffset:70,yOffset:60},13221:{bulletType:401,resId:"fangxing_m_1",attack:5,number:12,lifeTime:0,attackTime:200,speed:10,xOffset:-70,yOffset:60},13230:{bulletType:300,resId:"jiguang_s",attack:10,number:1,lifeTime:2e3,attackTime:500,speed:30,xOffset:170,yOffset:120},13231:{bulletType:300,resId:"jiguang_s",attack:10,number:1,lifeTime:2e3,attackTime:500,speed:30,xOffset:-170,yOffset:120},13300:{bulletType:100,resId:"yuanxing_m_2",attack:10,number:7,lifeTime:0,attackTime:200,speed:12,xOffset:10,yOffset:10},13301:{bulletType:100,resId:"yuanxing_m_2",attack:10,number:7,lifeTime:0,attackTime:200,speed:12,xOffset:70,yOffset:10},13302:{bulletType:100,resId:"yuanxing_m_2",attack:10,number:7,lifeTime:0,attackTime:200,speed:12,xOffset:-10,yOffset:10},13303:{bulletType:100,resId:"yuanxing_m_2",attack:10,number:7,lifeTime:0,attackTime:200,speed:12,xOffset:-70,yOffset:10},13310:{bulletType:400,resId:"tuoyuanxing_m_1",attack:5,number:20,lifeTime:0,attackTime:100,speed:10,xOffset:145,yOffset:60},13311:{bulletType:401,resId:"tuoyuanxing_m_1",attack:5,number:20,lifeTime:0,attackTime:100,speed:10,xOffset:-145,yOffset:60},13320:{bulletType:200,resId:"daodan_l",attack:10,number:4,lifeTime:0,attackTime:500,speed:8,xOffset:145,yOffset:60},13321:{bulletType:200,resId:"daodan_l",attack:10,number:4,lifeTime:0,attackTime:500,speed:8,xOffset:-145,yOffset:60},13330:{bulletType:400,resId:"tuoyuanxing_s",attack:5,number:4,lifeTime:0,
attackTime:0,speed:10,xOffset:80,yOffset:-10},13331:{bulletType:400,resId:"tuoyuanxing_s",attack:5,number:5,lifeTime:0,attackTime:0,speed:10,xOffset:80,yOffset:-10},13332:{bulletType:401,resId:"tuoyuanxing_s",attack:5,number:4,lifeTime:0,attackTime:0,speed:10,xOffset:-80,yOffset:-10},13333:{bulletType:401,resId:"tuoyuanxing_s",attack:5,number:5,lifeTime:0,attackTime:0,speed:10,xOffset:-80,yOffset:-10},13400:{bulletType:200,resId:"tuoyuanxing_m_1",attack:10,number:9,lifeTime:0,attackTime:500,speed:10,xOffset:0,yOffset:0},13410:{bulletType:400,resId:"tuoyuanxing_m",attack:5,number:4,lifeTime:0,attackTime:0,speed:12,xOffset:0,yOffset:0},13411:{bulletType:400,resId:"tuoyuanxing_m",attack:5,number:5,lifeTime:0,attackTime:0,speed:12,xOffset:0,yOffset:0},13420:{bulletType:400,resId:"tuoyuanxing_m",attack:5,number:3,lifeTime:0,attackTime:0,speed:10,xOffset:30,yOffset:50},13421:{bulletType:401,resId:"tuoyuanxing_m",attack:5,number:3,lifeTime:0,attackTime:0,speed:10,xOffset:-30,yOffset:50},13430:{bulletType:100,resId:"yuanxing_s_3",attack:10,number:6,lifeTime:0,attackTime:300,speed:8,xOffset:50,yOffset:0},13431:{bulletType:100,resId:"yuanxing_s_3",attack:10,number:6,lifeTime:0,attackTime:300,speed:8,xOffset:-50,yOffset:0},13440:{bulletType:100,resId:"tuoyuanxing_s",attack:5,number:20,lifeTime:0,attackTime:200,speed:24,xOffset:140,yOffset:70},13441:{bulletType:100,resId:"tuoyuanxing_s",attack:5,number:20,lifeTime:0,attackTime:200,speed:24,xOffset:-140,yOffset:70},13500:{bulletType:400,resId:"huixuan_m",attack:5,number:5,lifeTime:0,attackTime:0,speed:10,xOffset:0,yOffset:0},13501:{bulletType:400,resId:"huixuan_m",attack:5,number:3,lifeTime:0,attackTime:0,speed:10,xOffset:0,yOffset:0},13502:{bulletType:400,resId:"huixuan_m",attack:5,number:2,lifeTime:0,attackTime:0,speed:10,xOffset:0,yOffset:0},13510:{bulletType:400,resId:"tuoyuanxing_s",attack:5,number:5,lifeTime:0,attackTime:0,speed:10,xOffset:75,yOffset:80},13511:{bulletType:401,resId:"tuoyuanxing_s",attack:5,number:5,lifeTime:0,attackTime:0,speed:10,xOffset:-75,yOffset:80},13520:{bulletType:300,resId:"jiguang_l",attack:10,number:1,lifeTime:2e3,attackTime:500,speed:30,xOffset:0,yOffset:0},13530:{bulletType:400,resId:"tuoyuanxing_m",attack:5,number:20,lifeTime:0,attackTime:0,speed:10,xOffset:0,yOffset:0},13531:{bulletType:400,resId:"tuoyuanxing_m",attack:5,number:4,lifeTime:0,attackTime:0,speed:10,xOffset:85,yOffset:20},13532:{bulletType:401,resId:"tuoyuanxing_m",attack:5,number:4,lifeTime:0,attackTime:0,speed:10,xOffset:-85,yOffset:20},13540:{bulletType:200,resId:"tuoyuanxing_m_1",attack:5,number:4,lifeTime:0,attackTime:500,speed:10,xOffset:190,yOffset:75},13541:{bulletType:200,resId:"tuoyuanxing_m_1",attack:5,number:4,lifeTime:0,attackTime:500,speed:10,xOffset:-190,yOffset:75},13550:{bulletType:300,resId:"jiguang_m",attack:10,number:1,lifeTime:2e3,attackTime:500,speed:30,xOffset:190,yOffset:75},13551:{bulletType:300,resId:"jiguang_m",attack:10,number:1,lifeTime:2e3,attackTime:500,speed:30,xOffset:-190,yOffset:75},13600:{bulletType:100,resId:"tuoyuanxing_m",attack:5,number:40,lifeTime:0,attackTime:100,speed:24,xOffset:55,yOffset:150},13601:{bulletType:100,resId:"tuoyuanxing_m",attack:5,number:40,lifeTime:0,attackTime:100,speed:24,xOffset:-55,yOffset:150},13610:{bulletType:200,resId:"yuanxing_xl",attack:10,number:1,lifeTime:0,attackTime:0,speed:6,xOffset:0,yOffset:0},13620:{bulletType:400,resId:"yuanxing_xl_1",attack:10,number:12,lifeTime:0,attackTime:0,speed:12,xOffset:80,yOffset:40},13621:{bulletType:400,resId:"yuanxing_xl_1",attack:10,number:8,lifeTime:0,attackTime:0,speed:12,xOffset:75,yOffset:-110},13622:{bulletType:401,resId:"yuanxing_xl_1",attack:10,number:12,lifeTime:0,attackTime:0,speed:12,xOffset:-80,yOffset:40},13623:{bulletType:401,resId:"yuanxing_xl_1",attack:10,number:8,lifeTime:0,attackTime:0,speed:12,xOffset:-75,yOffset:-110},13630:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:50,yOffset:90},13631:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:70,yOffset:80},13632:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:90,yOffset:70},13633:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:110,yOffset:60},13640:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:-50,yOffset:90},13641:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:-70,yOffset:80},13642:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:-90,yOffset:70},13643:{bulletType:200,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:8,xOffset:-110,yOffset:60},13650:{bulletType:100,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:15,yOffset:160},13651:{bulletType:100,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:45,yOffset:140},13652:{bulletType:100,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:0,yOffset:180},13653:{bulletType:100,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:-15,yOffset:160},13654:{bulletType:100,resId:"daodan_l",attack:10,number:1,lifeTime:0,attackTime:0,speed:12,xOffset:-45,yOffset:140}},this.skillList={10000:{skillType:0,skills:[[1e3,1e4]]},10100:{skillType:0,skills:[[2e3,10100]]},10101:{skillType:0,skills:[[2e3,10101]]},10200:{skillType:0,skills:[[1e3,10200]]},10300:{skillType:0,skills:[[2e3,10300]]},10301:{skillType:0,skills:[[2e3,10301]]},10400:{skillType:0,skills:[[1e3,10400]]},10401:{skillType:0,skills:[[1e3,10401]]},10500:{skillType:0,skills:[[1500,10500],[0,10501]]},11000:{skillType:0,skills:[[2e3,11e3]]},11001:{skillType:0,skills:[[2e3,11001]]},11002:{skillType:0,skills:[[2e3,11002]]},11003:{skillType:0,skills:[[2e3,11003]]},11004:{skillType:0,skills:[[2e3,11010]]},11005:{skillType:0,skills:[[2e3,11011]]},11100:{skillType:0,skills:[[1400,11100],[150,11101],[150,11102],[150,11101],[150,11100]]},11101:{skillType:0,skills:[[1400,11103],[150,11104],[150,11105],[150,11104],[150,11103]]},11102:{skillType:0,skills:[[1400,11106],[150,11107],[150,11108],[150,11107],[150,11106]]},11103:{skillType:0,skills:[[1400,11109],[150,11110],[150,11111],[150,11110],[150,11109]]},11104:{skillType:0,skills:[[2500,11120],[250,11120],[250,11120],[1500,11120],[250,11120],[250,11120],[1500,11120],[250,11120],[250,11120],[1500,11120],[250,11120],[250,11120],[1500,11120],[250,11120],[250,11120],[1500,11120],[250,11120],[250,11120]]},11200:{skillType:0,skills:[[1e3,11200]]},11201:{skillType:0,skills:[[1e3,11201]]},12000:{skillType:0,skills:[[2e3,12e3],[0,12001],[2e3,12e3],[0,12001],[2e3,12010]]},12100:{skillType:0,skills:[[2e3,12100],[0,12110],[500,12101],[0,12111],[500,12102],[0,12112],[500,12103],[0,12113],[2e3,12120],[1e3,12130],[0,12131],[500,12130],[0,12131]]},12200:{skillType:0,skills:[[1e3,12200],[2e3,12210],[0,12211],[1e3,12220]]},13000:{skillType:0,skills:[[2e3,13e3],[0,13001],[1e3,13010],[1e3,13020],[0,13021],[0,13022],[0,13023]]},13100:{skillType:0,skills:[[2e3,13100],[1e3,13110],[0,13111],[500,13110],[0,13111],[1e3,13120],[0,13130],[500,13121],[0,13131],[500,13122],[0,13132],[500,13123],[0,13133]]},13200:{skillType:0,skills:[[2e3,13200],[0,13201],[1e3,13210],[2e3,13220],[0,13221],[500,13220],[0,13221],[1e3,13230],[0,13231]]},13300:{skillType:0,skills:[[2e3,13300],[0,13301],[0,13302],[0,13303],[1e3,13310],[0,13311],[1e3,13320],[0,13321],[1e3,13330],[0,13332],[500,13331],[0,13333],[500,13330],[0,13332],[500,13331],[0,13333]]},13400:{skillType:0,skills:[[2e3,13400],[2e3,13410],[500,13411],[500,13410],[500,13411],[2e3,13420],[0,13421],[500,13420],[0,13421],[500,13420],[0,13421],[1e3,13430],[0,13431],[500,13430],[0,13431],[500,13430],[0,13431],[500,13430],[0,13431],[1e3,13440],[0,13441]]},13500:{skillType:0,skills:[[2e3,13500],[500,13501],[500,13502],[1e3,13510],[0,13511],[1e3,13520],[3e3,13550],[0,13551]]},13501:{skillType:0,skills:[[5e3,13530],[2e3,13531],[0,13532],[2e3,13540],[4e3,13530],[2e3,13531],[0,13532],[2e3,13540],[4e3,13530],[2e3,13531],[0,13532],[2e3,13540],[4e3,13530],[2e3,13531],[0,13532],[2e3,13540],[4e3,13530],[2e3,13531],[0,13532],[2e3,13540],[4e3,13530],[2e3,13531],[0,13532],[2e3,13540]]},13600:{skillType:0,skills:[[2e3,13600],[0,13601],[1e3,13610],[1e3,13610],[1e3,13610],[1e3,13620],[0,13622],[500,13621],[0,13623],[1e3,13633],[0,13643],[300,13632],[0,13642],[300,13631],[0,13641],[300,13630],[0,13640],[1e3,13650],[0,13651],[0,13652],[0,13653],[0,13654]]}},this.enemyList={500:{enemyId:[1],1:{resId:"1",enemyHp:1750,attack:10,skillId:[0],moveType:0,speed:30,bulletSwitch:0,flop:[3e3],enemyType:500}},100:{enemyId:[100,101,102,103,104,105],100:{resId:"100",enemyHp:2,attack:5,skillId:[1e4],moveType:0,speed:1,bulletSwitch:0,flop:[1001,3001,3011,3021,3032,3040],enemyType:100},101:{resId:"101",enemyHp:28,attack:5,skillId:[10100,10101],moveType:0,speed:1,bulletSwitch:0,flop:[1007,1020,3011,3021,3032,3040],enemyType:100},102:{resId:"102",enemyHp:28,attack:5,skillId:[10200],moveType:0,speed:1,bulletSwitch:0,flop:[1001,1021,3011,3021,3032,3040],enemyType:100},103:{resId:"103",enemyHp:28,attack:5,skillId:[10300,10301],moveType:0,speed:1,bulletSwitch:0,flop:[1001,1021,3011,3021,3032,3040],enemyType:100},104:{resId:"104",enemyHp:42,attack:5,skillId:[10400,10401],moveType:0,speed:1,bulletSwitch:0,flop:[1009,1022,3011,3021,3032,3040],enemyType:100},105:{resId:"105",enemyHp:42,attack:5,skillId:[10500],moveType:0,speed:1,bulletSwitch:0,flop:[1009,1022,3011,3022,3032,3040],enemyType:100}},200:{enemyId:[110,111,112,120,121,122],110:{resId:"110",enemyHp:70,attack:10,skillId:[11e3,11001,11002,11003,11004,11005],moveType:0,speed:1,bulletSwitch:0,flop:[1009,1022,3014,3023,3031],enemyType:200},111:{resId:"111",enemyHp:70,attack:10,skillId:[11100,11101,11102,11103,11104],moveType:0,speed:1,bulletSwitch:0,flop:[1009,1022,3014,3023,3031],enemyType:200},112:{resId:"112",enemyHp:42,attack:10,skillId:[11200,11201],moveType:0,speed:5,bulletSwitch:0,flop:[1001,1021,3014,3023,3031],enemyType:200},120:{resId:"120",enemyHp:112,attack:10,skillId:[12e3],moveType:0,speed:1,bulletSwitch:0,flop:[1024,1011,3004,3012,3024,3044],enemyType:200},121:{resId:"121",enemyHp:112,attack:10,skillId:[12100],moveType:0,speed:1,bulletSwitch:0,flop:[1024,1011,3004,3012,3024,3044],enemyType:200},122:{resId:"122",enemyHp:112,attack:10,skillId:[12200],moveType:0,speed:1,bulletSwitch:0,flop:[1024,1011,3004,3012,3024,3044],enemyType:200}},300:{enemyId:[130,131,132,133,134,135,136],130:{resId:"130",enemyHp:560,attack:10,skillId:[13e3],moveType:3,speed:2,bulletSwitch:1,flop:[1034,1021,1019,3009,3029,3059],enemyType:300},131:{resId:"131",enemyHp:700,attack:10,skillId:[13100],moveType:3,speed:2,bulletSwitch:1,flop:[1035,1023,1019,3009,3029,3059],enemyType:300},132:{resId:"132",enemyHp:840,attack:10,skillId:[13200],moveType:3,speed:2,bulletSwitch:1,flop:[1036,1024,1020,1019,3009,3029,3059],enemyType:300},133:{resId:"133",enemyHp:980,attack:10,skillId:[13300],moveType:3,speed:2,bulletSwitch:1,flop:[1038,1022,1019,3009,3029,3059],enemyType:300},134:{resId:"134",enemyHp:1120,attack:10,skillId:[13400],moveType:3,speed:2,bulletSwitch:1,flop:[1039,1024,1019,3009,3029,3059],enemyType:300},135:{resId:"135",enemyHp:1260,attack:10,skillId:[13500,13501],moveType:3,speed:2,bulletSwitch:1,flop:[1039,1024,1024,1021,1019,3009,3029,3059],enemyType:300},136:{resId:"136",enemyHp:1400,attack:10,skillId:[13600],moveType:3,speed:2,bulletSwitch:1,flop:[1039,1024,1024,1024,1023,1019,3009,3029,3059],enemyType:300}}}}Laya["class"](e,"DataManager"),e.data_url="http://192.168.1.61:8080/ResinWebSocket/getData.jsp",e.key="key@#$098";e.prototype}(),function(){function e(){this.canPlayMusic=!0,this.canPlaySound=!0}Laya["class"](e,"SoundMag"),e.music_bg_main="res/sound/music_main.mp3",e.music_bg_war="res/sound/music_war.mp3",e.effect_ui_jinru="res/sound/effect_ui_jinru.mp3",e.effect_ui_ananniu="res/sound/ananniu.mp3",e.effect_ui_bosswarning="res/sound/warn.mp3",e.effect_sfx_chihuoyanzidan="res/sound/effect_sfx_chihuoyanzidan.mp3",e.effect_sfx_shiquzidan="res/sound/effect_sfx_shiquzidan.mp3",e.effect_sfx_chihuzhao="res/sound/effect_sfx_chihuzhao.mp3",e.effect_sfx_nlqboom="res/sound/effect_sfx_nlqboom.mp3",e.effect_sfx_jiguang="res/sound/effect_sfx_jiguang.mp3",e.effect_sfx_sandan="res/sound/effect_sfx_sandan.mp3",e.effect_sfx_beiji="res/sound/effect_sfx_beiji.mp3",e.effect_sfx_dabaozha="res/sound/effect_sfx_dabaozha.mp3",e.effect_sfx_xiaobaozha="res/sound/effect_sfx_xiaobaozha.mp3";var t=e.prototype;t.init=function(e,t){this.canPlayMusic=e,this.canPlaySound=t},t.changMusic=function(e){this.canPlayMusic=e,this.canPlaySound=e,this.canPlayMusic?this.openMusic():this.closeMusic()},t.openMusic=function(){this.canPlayMusic=!0,this.playMusic(e.music_bg_main)},t.closeMusic=function(){this.canPlayMusic=!1,SoundManager.stopMusic()},t.openSound=function(){this.canPlaySound=!0},t.closeSound=function(){this.canPlaySound=!1},t.playMusic=function(e){this.canPlayMusic&&SoundManager.playMusic(e)},t.playSound=function(e){this.canPlaySound&&SoundManager.playSound(e)}}(),function(){function e(){}Laya["class"](e,"FoodManager"),e.min_x=0,e.max_x=Config.GameWidth,e.min_y=0,e.max_y=Config.GameHeight,e.speed=2,e.speedAttraction=10,e.type_crystal_green=1e4,e.type_crystal_blue=10001,e.type_crystal_purple=10002,e.type_crystal_yellow=10003,e.type_crystal_diamond=10100,e.type_hp_recovery=10200,e.type_quantum_shield=10201,e.type_runaway_energy=10202,e.type_energy_magnet=10203,e.type_score_time_2=10204,e.type_score_time_5=10205,e.flop_type_percentage=0,e.flop_type_time=1,e.runaway_energy_score=200,e.runaway_energy_attack=150,e.energy_magnet_radius=250,e.energy_magnet_time=1e4,e.score_2time=200,e.score_5time=500;var t=e.prototype;t.createFood=function(t,i,s,a,l){1>s&&(s=1),a<e.min_x?a=e.min_x:a>e.max_x&&(a=e.max_x),l<e.min_y?l=e.min_y:l>e.max_y&&(l=e.max_y);var n=null,o=getRandomBetweenInt(0,2*Math.PI),h=2*Math.PI/s,r=!1;i!=e.type_crystal_green&&i!=e.type_crystal_blue&&i!=e.type_crystal_purple&&i!=e.type_crystal_yellow&&i!=e.type_crystal_diamond||(r=!0,h=3/s,o=Math.PI/2-s/2*h);for(var d=0;s>d;d++)n=Pool.getItemByClass("Food",Food),n.init(i,a,l,Math.cos(o)*dataManager.toolList[i].speed,Math.sin(o)*dataManager.toolList[i].speed,r),t.addChild(n),o+=h}}(),function(){function e(){this.init()}Laya["class"](e,"EnemyManager"),e.index_line=0,e.index_tween=1,e.index_boss=100,e.min_x=30,e.max_x=Config.GameWidth-30,e.min_y=-100,e.max_y=Config.GameHeight+20,e.boss_x=Config.GameWidthHalf,e.boss_y=Config.GameHeightHalf/2,e.move_type_down=0,e.move_type_right=1,e.move_type_left=2,e.move_type_float=3,e.type_ordinary=100,e.type_elite=200,e.type_boss=300,e.type_missile=500,e.speed=3;var t=e.prototype;t.init=function(){},t.createEnemy=function(t,i,s,a,l,n,o,h){var r=a.skillId,d=[],p=r.length,m=0;for(m=0;p>m;m++)0!=r[m]&&(d[m]=l[r[m]]);var u=Pool.getItemByClass("Enemy",Enemy);u.init(t,a.enemyType,s,o,h,a.enemyHp,a.attack,a.resId,a.speed,d,a.moveType,a.bulletSwitch,a.flop,t.gameTime),i.addChild(u),a.enemyType==e.type_boss&&(t.boss_hp.visible=!0,t.bossChangeHp(u.hp,u.hp_limit))},t.loadEnemy=function(e,t,i,s,a,l,n){var o=i.skillId,h=[],r=o.length,d=0;for(d=0;r>d;d++)0!=o[d]&&(h[d]=s[o[d]]);var p=Pool.getItemByClass("Enemy",Enemy);p.init(e,i.enemyType,t,l,n,i.enemyHp,i.attack,i.resId,i.speed,h,i.moveType,i.bulletSwitch,i.flop,e.gameTime),p.hide(),Laya.Pool.recover("Enemy",p);var m=Pool.getItemByClass("Bullet",Bullet);Laya.Pool.recover("Bullet",m);var u=Pool.getItemByClass("Food",Food);Laya.Pool.recover("Food",u)}}(),function(){function e(){this.init()}Laya["class"](e,"BulletManager"),e.hurtCd=50,e.type_none=-1,e.type_default=100,e.type_missile=200,e.type_laser=300,e.type_fangwei=400,e.type_fangwei_l2r=401,e.type_shield=1e3,e.type_skill_bombing=1001,e.type_skill_laser=1002,e.bullet_angle=120,e.bullet_angle_left=-150,e.bullet_angle_right=30,e.type_enemy_default=0,e.type_enemy_boss=10,e.camp_none=-1,e.camp_player=0,e.camp_enemy=1,e.speed_player=11,e.speed_player_missile=20,e.speed_enemy=5,e.min_x=-100,e.max_x=Config.GameWidth-e.min_x,e.min_y=-50,e.max_y=Config.GameHeight-e.min_y;var t=e.prototype;t.init=function(){},t.createBulletPlayer=function(t,i,s,a,l,n,o){var h="0_0",r=3,d=2,p=-12,m=6,u=-6,y=0,c=-e.speed_player,f=null,_=25;if(o.state==Player.state_runaway&&(h="0_1",r=5,d=3,p=-24,m=9,u=-12,_=18),s==e.type_missile){f=Pool.getItemByClass("Bullet",Bullet);for(var g=0,b=0,x=null,T=Config.GameWidth*Config.GameHeight,k=0,L=0;L<i.numChildren;L++){var v=i.getChildAt(L);g=v.x-a,b=v.y-l,k=g*g+b*b,v.visible&&v.x>a&&T>k&&(T=k,x=v)}x&&f.setTrack(x),f.init(a,l,e.camp_player,s,m,u,0,u,"0_10",n,!0,o,0,0,0,0),t.addChild(f),f=Pool.getItemByClass("Bullet",Bullet),x&&f.setTrack(x),f.init(a,l,e.camp_player,s,m,u,0,u,"0_10",n,!1,o,0,0,0,0),t.addChild(f)}else{if(s==e.type_skill_laser)return c=0,l-=500,f=Pool.getItemByClass("Bullet",Bullet),f.init(a,l,e.camp_player,s,d,p,y,c,"0_100",n,!1,o,0,0,0,0),t.addChild(f),f;if(s==e.type_skill_bombing)o.setSkillCount(5);else{a-=parseInt(r/2)*_-(r%2==0?_/2:0);for(var I=20,w=0;r>w;w++)f=Pool.getItemByClass("Bullet",Bullet),f.init(a,l,e.camp_player,s,d,p,y,p,h,n,!1,o,0,0,0,0),t.addChild(f),a+=_,o.state==Player.state_runaway&&(2>w?l-=I:l+=I)}}},t.createSkillBombing=function(t,i,s,a,l,n){var o=320,h=750;5==n?(o=320,h=750):4==n?(o=480,h=600):3==n?(o=160,h=450):2==n?(o=480,h=300):1==n&&(o=160,h=150);var r=99999,d=0,p=0,m=0,u=Pool.getItemByClass("Bullet",Bullet);u.init(o,h,e.camp_player,s,r,d,p,m,"skill0",a,!1,l,0,0,0,0),t.addChild(u)},t.createBulletEnemy=function(t,i,s,a,l,n,o,h,r,d){if(!(l.number<1)){var p=null,m=0,u=0,y=n+l.xOffset,c=o+l.yOffset,f=0;if(l.bulletType==e.type_default)if(l.attackTime>0)s.addBullet(a,l.attackTime,l.number,0,0);else for(u=0;u<l.number;u++)p=Pool.getItemByClass("Bullet",Bullet),p.init(y,c,e.camp_enemy,l.bulletType,l.attack,l.speed,0,l.speed,l.resId,d,!1,s,l.lifeTime,l.attackTime,l.xOffset,l.yOffset),t.addChild(p),c+=p.boundHeight;else if(l.bulletType==e.type_missile)if(l.attackTime>0)s.addBullet(a,l.attackTime,l.number,0,0);else{var _=h-n,g=r-o;for(0==_&&(_=1),m=Math.abs(Math.atan(g/_)),u=0;u<l.number;u++)p=Pool.getItemByClass("Bullet",Bullet),p.init(y,c,e.camp_enemy,l.bulletType,l.attack,l.speed,l.speed*Math.cos(m)*(0>_?-1:1),l.speed*Math.sin(m)*(0>g?-1:1),l.resId,d,!1,s,l.lifeTime,l.attackTime,l.xOffset,l.yOffset),p.rotation=180*m/Math.PI,_>0&&0>g?p.rotation=-p.rotation:0>_&&(0>g?p.rotation=p.rotation-180:p.rotation=180-p.rotation),p.rotation-=90,t.addChild(p),y+=p.boundWidth*Math.cos(m),c+=p.boundHeight*Math.sin(m)}else if(l.bulletType==e.type_laser)p=Pool.getItemByClass("Bullet",Bullet),p.init(y,c,e.camp_enemy,l.bulletType,l.attack,l.speed,0,l.speed,l.resId,d,!1,s,l.lifeTime,l.attackTime,l.xOffset,l.yOffset),i.addChild(p);else if(l.bulletType==e.type_fangwei)if(l.number<6?(f=-Math.PI/9,m=Math.PI/2-parseInt(l.number/2)*f+(l.number%2==0?f/2:0)):(m=Math.PI,f=-Math.PI/l.number),l.attackTime>0)s.addBullet(a,l.attackTime,l.number,m,f);else for(u=0;u<l.number;u++)p=Pool.getItemByClass("Bullet",Bullet),p.init(y,c,e.camp_enemy,l.bulletType,l.attack,l.speed,l.speed*Math.cos(m),l.speed*Math.sin(m),l.resId,d,!1,s,l.lifeTime,l.attackTime,l.xOffset,l.yOffset),p.rotation=180*m/Math.PI,p.rotation-=90,t.addChild(p),m+=f;else if(l.bulletType==e.type_fangwei_l2r)if(l.number<6?(f=Math.PI/9,m=Math.PI/2-parseInt(l.number/2)*f+(l.number%2==0?f/2:0)):(m=0,f=Math.PI/l.number),l.attackTime>0)s.addBullet(a,l.attackTime,l.number,m,f);else for(u=0;u<l.number;u++)p=Pool.getItemByClass("Bullet",Bullet),p.init(y,c,e.camp_enemy,l.bulletType,l.attack,l.speed,l.speed*Math.cos(m),l.speed*Math.sin(m),l.resId,d,!1,s,l.lifeTime,l.attackTime,l.xOffset,l.yOffset),p.rotation=180*m/Math.PI,p.rotation-=90,t.addChild(p),m+=f}},t.createShootEnemy=function(t,i,s,a,l,n,o,h,r,d){var p=Pool.getItemByClass("Bullet",Bullet),m=a.speed*Math.cos(o),u=a.speed*Math.sin(o);if(a.bulletType==e.type_default)m=0,u=a.speed,p.init(l+a.xOffset,n+a.yOffset,e.camp_enemy,a.bulletType,a.attack,a.speed,m,u,a.resId,h,!1,t,a.lifeTime,a.attackTime,a.xOffset,a.yOffset);else if(a.bulletType==e.type_missile){var y=r-l,c=d-n;0==y&&(y=1),o=Math.abs(Math.atan(c/y)),m=a.speed*Math.cos(o),u=a.speed*Math.sin(o),p.rotation=o-90,p.init(l+a.xOffset,n+a.yOffset,e.camp_enemy,a.bulletType,a.attack,a.speed,m,u,a.resId,h,!1,t,a.lifeTime,a.attackTime,a.xOffset,a.yOffset)}else a.bulletType==e.type_laser?(p.init(l+a.xOffset,n+a.yOffset,e.camp_enemy,a.bulletType,a.attack,a.speed,0,a.speed,a.resId,h,!1,t,a.lifeTime,a.attackTime,a.xOffset,a.yOffset),s.addChild(p)):a.bulletType!=e.type_fangwei&&a.bulletType!=e.type_fangwei_l2r||(p.rotation=o-90,p.init(l+a.xOffset,n+a.yOffset,e.camp_enemy,a.bulletType,a.attack,a.speed,m,u,a.resId,h,!1,t,a.lifeTime,a.attackTime,a.xOffset,a.yOffset));i.addChild(p)}}(),function(){function e(){e.__super.call(this),this.graphics.drawRect(0,0,Config.GameWidth,Config.GameHeight,"#000000"),this.bg=new Sprite,this.bg.loadImage("res/bg/loadBg.jpg"),this.addChild(this.bg),this.txt=new Text,this.txt.color="#ffffff",this.txt.fontSize=30,this.txt.text="Loading",this.txt.width=Config.GameWidth,this.txt.align="center",this.txt.valign="middle",this.txt.y=850,this.addChild(this.txt),this.screen=null,this.title="",this.assetLoading=[]}Laya["class"](e,"Loading",laya.display.Sprite);var t=e.prototype;e.OVER="loading_over",t.init=function(e,t,i,s){this.screen=e,this.setTitle(t),s&&this.clear(),this.assetLoading.splice(0,this.assetLoading.length),this.assetLoading=i,Laya.loader.load(i,Handler.create(this,this.onLoaded),Handler.create(this,this.onLoading,null,!1))},t.setTitle=function(e){this.title=e},t.onLoading=function(e){this.txt.text=this.title+" "+parseInt(100*e)+"%"},t.onLoaded=function(){this.screen.loadOver(),this.removeSelf()},t.clear=function(){for(var e=this.assetLoading.length,t=0;e>t;t++)Laya.loader.clearRes(this.assetLoading[t].url)}}(),function(){function e(){e.__super.call(this),this.visible=!1,this.on(laya.events.Event.MOUSE_DOWN,this,this.onMouseDown),this.btn_cancel.on(laya.events.Event.MOUSE_DOWN,this,this.tipCancel),this.btn_submit.on(laya.events.Event.MOUSE_DOWN,this,this.tipSubmit),this.btn_ok.on(laya.events.Event.MOUSE_DOWN,this,this.tipCancel)}Laya["class"](e,"TipDialog",ui.TipsDialogUI),e.type_one=0,e.type_two=1;var t=e.prototype;t.init=function(t,i){t==e.type_one?(this.btn_cancel.visible=!1,this.btn_submit.visible=!1,this.btn_ok.visible=!0):t==e.type_two&&(this.btn_cancel.visible=!0,this.btn_submit.visible=!0,this.btn_ok.visible=!1),this.message.text=i,this.visible=!0},t.tipCancel=function(){this.visible=!1,this.parent.tipCancel()},t.tipSubmit=function(){this.visible=!1,this.parent.tipSubmit()},t.onMouseDown=function(e){e.stopPropagation()}}(),function(){function e(){e.__super.call(this),this.map=new GameMap,this.bg=null,this.state=e.state_none,this.player=null,this.enemys=null,this.bullet_player=null,this.bullet_enemy=null,this.bullet_enemy_laser=null,this.hurtTexts=null,this.explodes=null,this.foods=null,this.loadSprite=new Sprite,this.rankPanel=new RankScreen,this.gameTime=0,this.lastTime=0,this.isPause=!1,this.buttonIndex=e.button_index_continue,this.setButtonIndex(e.button_index_continue),this.shock=0,this.score=0,this.batterNumber=0,this.timeLine_batter_image=new TimeLine,this.timeLine_batter_image.addLabel("0",0).to(this.batterImg,{x:-45},0).addLabel("1",0).to(this.batterImg,{x:86},200).addLabel("2",0).to(this.batterImg,{x:68},200,null,500).addLabel("3",0).to(this.batterImg,{x:-45},200),this.timeLine_batter_image.on(Event.COMPLETE,this,this.onCompleteBatter,[this.batterImg]),this.timeLine_batter_label=new TimeLine,this.timeLine_batter_label.addLabel("0",0).to(this.batterLabel,{x:-28},0).addLabel("1",0).to(this.batterLabel,{x:161},300).addLabel("2",0).to(this.batterLabel,{x:140},200,null,400).addLabel("3",0).to(this.batterLabel,{x:-28},200),this.timeLine_batter_label.on(Event.COMPLETE,this,this.onCompleteBatter,[this.batterLabel]),this.bossData={enemyId:0,xOffset:0,yOffset:0},this.timeLine_boss_warning=new TimeLine,this.timeLine_boss_warning.addLabel("0",0).to(this.bossWarning,{alpha:0},0).addLabel("1",0).to(this.bossWarning,{alpha:1},300).addLabel("2",0).to(this.bossWarning,{alpha:0},100,null,100).addLabel("1",0).to(this.bossWarning,{alpha:1},300).addLabel("2",0).to(this.bossWarning,{alpha:0},100,null,100),this.timeLine_boss_warning.on(Event.COMPLETE,this,this.onCompleteBossWarning),this.timeLine_loading=new TimeLine,this.timeLine_loading.addLabel("0",0).to(this.loading1,{rotation:360},1e3),this.skillNumber_step_0=3,this.skillNumber_step_1=3,this.skillNumber_0=this.skillNumber_step_0,this.skillNumber_1=this.skillNumber_step_1,this.hadMouseDown=!1,this.mdX=0,this.mdY=0,this.oldX=0,this.oldY=0,this.rankBegin=1,this.rankNumber=1,this.rankDataList=[],this.isLeave=!1;var t=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0];this.grayscaleFilter=[new ColorFilter(t)],Laya.stage.on(Event.KEY_DOWN,this,this.onKeyDown),Laya.stage.on(Event.KEY_UP,this,this.onKeyUp),this.setState(e.state_load),this.init()}e.state_none=0,e.state_load=1,e.state_ready=2,e.state_game=3,e.state_pause=4,e.state_win=5,e.state_fail=6,e.state_buy=7,e.state_rank=8,e.state_exit=9,e.button_index_continue=0,e.button_index_exit=1,Laya["class"](e,"GameScreen",ui.BattleUI);var t=e.prototype;t.init=function(){this.bg=new Background(0),this.addChildAt(this.bg,0),this.addChildAt(this.loadSprite,0),this.bullet_enemy_laser=new Sprite,this.elementPanel.addChild(this.bullet_enemy_laser),this.enemys=new Sprite,this.elementPanel.addChild(this.enemys),this.player=new Player(Player.shoot_cd,Player.missile_cd),this.elementPanel.addChild(this.player),this.playerChangeHp(this.player.hp,this.player.hp_limit),this.bullet_enemy=new Sprite,this.elementPanel.addChild(this.bullet_enemy),this.bullet_player=new Sprite,this.elementPanel.addChild(this.bullet_player),this.foods=new Sprite,this.elementPanel.addChild(this.foods),this.explodes=new Sprite,this.elementPanel.addChild(this.explodes),this.hurtTexts=new Sprite,this.elementPanel.addChild(this.hurtTexts),this.membrane.on(Event.MOUSE_DOWN,this,this.membraneStop),this.membrane.graphics.alpha(.6),this.membrane.graphics.drawRect(0,0,Config.GameWidth,Config.GameHeight,"#000000"),this.membrane.graphics.alpha(2),this.btn_skill0.on(Event.MOUSE_DOWN,this,this.useTool,[BulletManager.type_skill_bombing]),this.btn_skill1.on(Event.MOUSE_DOWN,this,this.useTool,[BulletManager.type_skill_laser]),this.btn_pause.on(Event.MOUSE_DOWN,this,this.pauseGame),this.btn_continue.on(Event.MOUSE_DOWN,this,this.clickContinue),this.btn_exit.on(Event.MOUSE_DOWN,this,this.clickExit),this.scoreLabel.text=this.score.toString(),this.on(Event.MOUSE_DOWN,this,this.onMouseDown),this.on(Event.MOUSE_MOVE,this,this.onMouseMove),this.on(Event.MOUSE_UP,this,this.onMouseUp),Laya.stage.on(laya.events.Event.BLUR,this,this.onBlur),Laya.stage.on(laya.events.Event.FOCUS,this,this.onFocus),this.rankPanel.btn_again.on(Event.MOUSE_DOWN,this,this.restart),this.rankPanel.btn_share.on(Event.MOUSE_DOWN,this,this.restart),this.rankPanel.visible=!1,this.rankPanel.rankList.renderHandler=new Handler(this,this.updateItem),this.rankPanel.rankList.scrollBar.changeHandler=new Handler(this,this.onChange),this.rankPanel.rankList.scrollBar.hide=!0,this.rankPanel.rankList.scrollBar.elasticBackTime=200,this.rankPanel.rankList.scrollBar.elasticDistance=50,this.addChild(this.rankPanel),this.resetSkillNumber(),soundPlayer.playMusic(SoundMag.music_bg_war),this.setState(e.state_ready),this.map.loadEnemy(this),bulletManager.createSkillBombing(this.loadSprite,this.enemys,BulletManager.type_skill_bombing,this.gameTime,this.player,0),enemyManager.createEnemy(this,this.loadSprite,100,dataManager.enemyList[100][100],dataManager.skillList,dataManager.flopList,0,0);var t=Pool.getItemByClass("Explode",Explode);t.init(0,0,Explode.electricity),this.loadSprite.addChild(t),Laya.timer.frameLoop(1,this,this.onLoop)},t.setButtonIndex=function(t){switch(this.buttonIndex=t,this.buttonIndex){case e.button_index_continue:this.finger.pos(426,366);break;case e.button_index_exit:this.finger.pos(426,540)}},t.reset=function(){this.btn_skill0.mouseEnabled=!0,this.btn_skill0.filters=[],this.btn_skill1.mouseEnabled=!0,this.btn_skill1.filters=[],this.shock=0,this.score=0,this.scoreLabel.text=this.score.toString(),this.batterNumber=0,this.skillNumber_0=this.skillNumber_step_0,this.skillNumber_1=this.skillNumber_step_1,this.gameTime=0,this.resetSkillNumber(),this.boss_hp.visible=!1,Config.isPause=!1,Config.isOver=!1,this.membrane.visible=!1,this.btn_continue.visible=!1,this.btn_exit.visible=!1,this.player.start(),this.playerChangeHp(this.player.hp,this.player.hp_limit),this.clear()},t.clear=function(){var e=0;for(e=this.enemys.numChildren-1;e>-1;e--)this.enemys.getChildAt(e).hide();for(this.enemys.removeChildren(0,this.enemys.numChildren),e=this.bullet_player.numChildren-1;e>-1;e--)this.bullet_player.getChildAt(e).hide();for(this.bullet_player.removeChildren(0,this.bullet_player.numChildren),e=this.bullet_enemy.numChildren-1;e>-1;e--)this.bullet_enemy.getChildAt(e).hide();for(this.bullet_enemy.removeChildren(0,this.bullet_enemy.numChildren),e=this.bullet_enemy_laser.numChildren-1;e>-1;e--)this.bullet_enemy_laser.getChildAt(e).hide();for(this.bullet_enemy_laser.removeChildren(0,this.bullet_enemy_laser.numChildren),this.explodes.removeChildren(0,this.explodes.numChildren),e=this.hurtTexts.numChildren-1;e>-1;e--)this.hurtTexts.getChildAt(e).hide();for(this.hurtTexts.removeChildren(0,this.hurtTexts.numChildren),e=this.foods.numChildren-1;e>-1;e--)this.foods.getChildAt(e).hide();this.foods.removeChildren(0,this.foods.numChildren)},t.restart=function(){soundPlayer.playSound(SoundMag.effect_ui_ananniu),this.reset(),this.map.restart(),this.winImg.visible=!1,this.rankPanel.visible=!1,this.setState(e.state_ready)},t.setState=function(t){switch(this.finger.visible=!1,t){case e.state_game:if(this.isLeave)return;Config.isPause=!1,Config.isOver=!1,this.shock=0,this.lastTime=Browser.now();break;case e.state_ready:this.readyBg.visible=!0,this.readyBg.alpha=0,this.readygo.visible=!0,this.readygo.x=-this.readygo.width,Tween.to(this.readyBg,{alpha:1},1e3),Tween.to(this.readygo,{x:Config.GameWidthHalf-this.readygo.width/2},1e3,Ease.elasticOut,Handler.create(this,this.readyCome),500);break;case e.state_pause:this.setButtonIndex(e.button_index_continue),this.finger.visible=!0}this.state=t},t.readyCome=function(){Tween.to(this.readyBg,{alpha:0},1e3),Tween.to(this.readygo,{x:Config.GameWidth},1e3,Ease.expoOut,Handler.create(this,this.already))},t.already=function(){this.readyBg.visible=!1,this.readygo.visible=!1,this.setState(e.state_game)},t.resetSkillNumber=function(){this.skillNumber0.text=this.skillNumber_0.toString(),this.skillNumber1.text=this.skillNumber_1.toString()},t.onLoop=function(){if(!Config.isPause&&!Config.isOver){if(this.bg.onLoop(),this.shock>0){var t=parseInt(this.shock/2);t%2==0?(this.bg.x=5,this.bg.y=5):(this.bg.x=-5,this.bg.y=-5),this.shock--,this.shock<=0&&(this.bg.x=0,this.bg.y=0)}switch(this.state){case e.state_game:if(this.isPass())return void this.gameWin();var i=Browser.now();this.gameTime+=i-this.lastTime,this.lastTime=i,this.player.onLoop(this),this.map.checkEvent(this,this.enemys,this.gameTime);var s=0,a=0,l=null;for(s=0;s<this.bullet_player.numChildren;s++){for(l=this.bullet_player.getChildAt(s),l.onLoop(this,this.gameTime),a=this.enemys.numChildren-1;a>-1&&(this.enemys.getChildAt(a).collisionLogic(l,this),l.visible);a--);l.visible||s--}var n=null;for(s=0;s<this.foods.numChildren;s++)n=this.foods.getChildAt(s),n.onLoop(this,this.player),this.player.collisionLogicFood(n,this)&&s--;for(s=0;s<this.bullet_enemy.numChildren;s++)if(l=this.bullet_enemy.getChildAt(s),l.onLoop(this,this.gameTime),this.player.collisionLogic(l,this),l.visible||s--,!this.player.visible)return;for(s=0;s<this.bullet_enemy_laser.numChildren;s++)if(l=this.bullet_enemy_laser.getChildAt(s),l.onLoop(this,this.gameTime),
this.player.collisionLogic(l,this),l.visible||s--,!this.player.visible)return;var o=null;for(a=0;a<this.enemys.numChildren;a++)if(o=this.enemys.getChildAt(a),o.onLoop(this),this.player.collisionLogicEnemy(o,this),o.visible||a--,!this.player.visible)return}}},t.addScore=function(e){this.score+=e,this.scoreLabel.text=this.score.toString()},t.onCompleteBatter=function(e){e.visible=!1},t.onCompleteBossWarning=function(){this.bossWarning.visible=!1,enemyManager.createEnemy(this,this.enemys,this.bossData.enemyId,dataManager.enemyList[EnemyManager.type_boss][this.bossData.enemyId],dataManager.skillList,dataManager.flopList,this.bossData.xOffset,this.bossData.yOffset)},t.bossCome=function(e,t,i){soundPlayer.playSound(SoundMag.effect_ui_bosswarning),this.bossWarning.visible=!0,this.timeLine_boss_warning.play(0,!1),this.bossData.enemyId=e,this.bossData.xOffset=t,this.bossData.yOffset=i},t.enemyDie=function(e){this.batterNumber+=1,this.addScore(1),this.batterLabel.text=this.batterNumber.toString(),this.batterImg.visible||(this.batterImg.visible=!0,this.timeLine_batter_image.play(0,!1),this.batterLabel.visible=!0,this.timeLine_batter_label.play(0,!1)),e.type==EnemyManager.type_boss?(soundPlayer.playSound(SoundMag.effect_sfx_dabaozha),this.boss_hp.visible=!1,this.map.bossDie(this.gameTime)):(soundPlayer.playSound(SoundMag.effect_sfx_xiaobaozha),this.addExplode(e.x,e.y,Explode.PLANE,0));for(var t=e.flop.length,i=null,s=0;t>s;s++)i=dataManager.flopList[e.flop[s]],i.flopType==FoodManager.flop_type_percentage?getYOrN(i.flopValue)&&foodManager.createFood(this.foods,i.goodsId,i.flopNumber,e.x,e.y):i.flopType==FoodManager.flop_type_time&&this.gameTime-e.beginTime<=i.flopValue&&foodManager.createFood(this.foods,i.goodsId,i.flopNumber,e.x,e.y)},t.isPass=function(){return!1},t.addExplode=function(e,t,i,s){var a=Pool.getItemByClass("Explode",Explode);a.init(e,t,i),this.explodes.addChild(a),this.shock+=s},t.onMouseDown=function(){if(this.state==e.state_game&&Browser.onPC){var t=Laya.stage.mouseX,i=Laya.stage.mouseY;this.hadMouseDown=!0,this.mdX=t,this.mdY=i,this.oldX=this.player.x,this.oldY=this.player.y}},t.onMouseMove=function(){if(this.state==e.state_game){var t=Laya.stage.mouseX,i=Laya.stage.mouseY;Browser.onPC?this.hadMouseDown&&this.player.playerMoveTo(this.oldX+t-this.mdX,this.oldY+i-this.mdY):(this.hadMouseDown?Math.abs(t-this.mdX)>80||Math.abs(i-this.mdY)>80||this.player.playerMoveTo(this.player.x+t-this.mdX,this.player.y+i-this.mdY):this.hadMouseDown=!0,this.mdX=t,this.mdY=i)}},t.onMouseUp=function(){Browser.onPC||(this.mdX=0,this.mdY=0),this.hadMouseDown=!1},t.onKeyDown=function(t){switch(this.state){case e.state_game:switch(t.keyCode){case Keyboard.UP:this.player.moveY(-1);break;case Keyboard.DOWN:this.player.moveY(1);break;case Keyboard.LEFT:this.player.moveX(-1);break;case Keyboard.RIGHT:this.player.moveX(1);break;case Keyboard.ENTER:break;case Keyboard.BACKSPACE:case Keyboard.DELETE:case Keyboard.NUMPAD_0:case Keyboard.NUMBER_0:this.pauseGame();break;case Keyboard.NUMPAD_1:case Keyboard.NUMBER_1:this.useTool(BulletManager.type_skill_bombing);break;case Keyboard.NUMPAD_2:case Keyboard.NUMBER_2:this.useTool(BulletManager.type_skill_laser)}break;case e.state_pause:switch(t.keyCode){case Keyboard.UP:this.setButtonIndex(e.button_index_continue);break;case Keyboard.DOWN:this.setButtonIndex(e.button_index_exit);break;case Keyboard.LEFT:break;case Keyboard.RIGHT:break;case Keyboard.ENTER:this.buttonIndex==e.button_index_continue?this.clickContinue():this.buttonIndex==e.button_index_exit&&this.clickExit();break;case Keyboard.BACKSPACE:case Keyboard.DELETE:case Keyboard.NUMPAD_0:case Keyboard.NUMBER_0:this.clickContinue()}break;case e.state_rank:switch(t.keyCode){case Keyboard.UP:break;case Keyboard.DOWN:break;case Keyboard.LEFT:break;case Keyboard.RIGHT:break;case Keyboard.ENTER:this.restart();break;case Keyboard.BACKSPACE:case Keyboard.DELETE:case Keyboard.NUMPAD_0:case Keyboard.NUMBER_0:this.clickExit()}}t.stopPropagation()},t.onKeyUp=function(e){switch(e.keyCode){case Keyboard.UP:break;case Keyboard.DOWN:break;case Keyboard.LEFT:break;case Keyboard.RIGHT:break;case Keyboard.ENTER:break;case Keyboard.BACKSPACE:case Keyboard.DELETE:case Keyboard.NUMPAD_0:case Keyboard.NUMBER_0:}e.stopPropagation()},t.onBlur=function(){this.isLeave=!0,this.setState(e.state_pause),Config.isPause=!0,this.membrane.visible=!0,this.btn_continue.visible=!0,this.btn_exit.visible=!0},t.onFocus=function(){this.isLeave=!1,this.lastTime=Browser.now()},t.gameOver=function(){this.addExplode(this.player.x,this.player.y,Explode.PLANE,10),this.clear(),Config.isOver=!0,this.setState(e.state_fail),this.winImg.visible=!0,this.winImg.pos(320,440),this.winImg.alpha=.5,Tween.to(this.winImg,{y:350,alpha:1},500,null,Handler.create(this,this.overFlashOver))},t.overFlashOver=function(){Laya.timer.once(1500,this,this.saveRank)},t.gameWin=function(){this.clear(),Config.isOver=!0,this.setState(e.state_win),this.winImg.visible=!0,this.winImg.pos(320,440),this.winImg.alpha=.5,Tween.to(this.winImg,{y:350,alpha:1},500,null,Handler.create(this,this.overFlashOver))},t.saveRank=function(){this.membrane.visible=!0,this.loading1.visible=!0,this.timeLine_loading.play(0,!0),ajaxGetJsonP(Config.serviceUrl,{score:this.score,service:"addGameScoreService",userId:dataManager.userId,userName:dataManager.userName},this.saveRankOver,this)},t.saveRankOver=function(t,i){i.setState(e.state_rank),i.membrane.visible=!1,i.loading1.visible=!1,i.timeLine_loading.pause(),i.winImg.visible=!1,t&&1==t.result&&(i.rankBegin=parseInt(t.beginRank),i.rankNumber=parseInt(t.allRank),i.setRankList(t.rankList,i)),i.rankPanel.score.text=i.score.toString(),i.rankPanel.visible=!0},t.readRank=function(e,t){this.membrane.visible=!0,this.loading1.visible=!0,this.timeLine_loading.play(0,!0),ajaxGetJsonP(Config.serviceUrl,{userId:e,service:"getGameRankService",type:t},this.readRankOver,this)},t.readRankOver=function(e,t){t.membrane.visible=!1,t.loading1.visible=!1,t.timeLine_loading.pause(),e&&1==e.result&&(t.rankBegin=parseInt(e.beginRank),t.rankNumber=parseInt(e.allRank),t.setRankList(e.rankList,t)),t.rankPanel.score.text=t.score.toString(),t.rankPanel.visible=!0},t.setRankList=function(e,t){t.rankDataList=e;for(var i=[],s=e.length,a="",l="",n="",o=t.rankBegin,h=0;s>h;h++,o++)l="",1==o?a="rank/rank_0.png":2==o?a="rank/rank_1.png":3==o?a="rank/rank_2.png":(a="",l=o),n=e[h].userId==dataManager.userId?"rank/lanplayer.png":"rank/lan.png",i.push({index:h,boxBg:n,medal:a,rank:l,head:"rank/touxiang.png",name:e[h].userName,score:e[h].score});t.rankPanel.rankList.array=i},t.onChange=function(e){var t=1;0>e?this.rankBegin>1&&(t=this.rankBegin-10,1>t&&(t=1),this.rankDataList.length>0&&(this.readRank(this.rankDataList[0].userId,0),this.rankBegin=t,this.rankPanel.rankList.scrollBar.value=400)):e>410&&this.rankBegin+10<this.rankNumber&&(t=this.rankBegin+10,this.rankDataList.length>0&&(this.readRank(this.rankDataList[this.rankDataList.length-1].userId,1),this.rankBegin=t,this.rankPanel.rankList.scrollBar.value=0))},t.updateItem=function(e,t){e&&e.dataSource&&e.dataSource},t.playerFire=function(t){this.state==e.state_game&&(bulletManager.createBulletPlayer(this.bullet_player,this.enemys,t,this.player.x,this.player.y,this.gameTime,this.player),t==BulletManager.type_missile||soundPlayer.playSound(SoundMag.effect_sfx_sandan))},t.createSkillBombing=function(e){bulletManager.createSkillBombing(this.bullet_player,this.enemys,BulletManager.type_skill_bombing,this.gameTime,this.player,e)},t.playerChangeHp=function(e,t){0>e&&(e=0),e<=Player.hp_limit?(this.hpBar.visible||(this.hpBar.visible=!0,this.hpBar1.visible=!1,this.hpBar2.visible=!1,this.hpNumberLable.text="X1"),this.hpBar.value=e/Player.hp_limit):e<=Player.hp_limit_1?(this.hpBar1.visible||(this.hpBar.visible=!1,this.hpBar1.visible=!0,this.hpBar2.visible=!1,this.hpNumberLable.text="X2"),this.hpBar1.value=(e-Player.hp_limit)/Player.hp_limit):e<=Player.hp_limit_2&&(this.hpBar2.visible||(this.hpBar.visible=!1,this.hpBar1.visible=!1,this.hpBar2.visible=!0,this.hpNumberLable.text="X3"),this.hpBar2.value=(e-Player.hp_limit_1)/Player.hp_limit)},t.batterNumberToZero=function(){this.batterNumber=0},t.bossChangeHp=function(e,t){0>e?e=0:e>t&&(e=t),this.boss_hp.value=e/t},t.enemyFire=function(t,i,s,a){this.state==e.state_game&&bulletManager.createBulletEnemy(this.bullet_enemy,this.bullet_enemy_laser,t,a,dataManager.bulletList[a],i,s,this.player.x,this.player.y,this.gameTime)},t.enemyShoot=function(t,i,s,a,l){this.state==e.state_game&&bulletManager.createShootEnemy(t,this.bullet_enemy,this.bullet_enemy_laser,dataManager.bulletList[a],i,s,l,this.gameTime,this.player.x,this.player.y)},t.reTrack=function(e){for(var t=0,i=0,s=null,a=99999999,l=0,n=0;n<this.enemys.numChildren;n++){var o=this.enemys.getChildAt(n);o.type!=EnemyManager.type_missile&&(t=o.x-e.x,i=o.y-e.y,l=t*t+i*i,o.visible&&o.y<e.y&&a>l&&(a=l,s=o))}s&&e.setTrack(s)},t.membraneStop=function(e){e.stopPropagation()},t.onCompleteTimeLine=function(e){e.visible=!1},t.setFoodEffect=function(e){switch(e){case FoodManager.type_crystal_green:case FoodManager.type_crystal_blue:case FoodManager.type_crystal_purple:case FoodManager.type_crystal_yellow:break;case FoodManager.type_crystal_diamond:break;case FoodManager.type_hp_recovery:break;case FoodManager.type_quantum_shield:break;case FoodManager.type_runaway_energy:break;case FoodManager.type_energy_magnet:break;case FoodManager.type_score_time_2:break;case FoodManager.type_score_time_5:}},t.useTool=function(e,t){if(t&&t.stopPropagation(),soundPlayer.playSound(SoundMag.effect_ui_ananniu),!Config.isPause&&!Config.isOver){this.setFoodEffect(FoodManager.type_score_time_5);var i=0,s=null,a=0;switch(e){case BulletManager.type_shield:break;case BulletManager.type_skill_bombing:if(this.skillNumber_0>0){for(this.skillNumber_0-=1,0==this.skillNumber_0&&(this.btn_skill0.mouseEnabled=!1,this.btn_skill0.filters=this.grayscaleFilter);this.bullet_enemy.numChildren>0;)this.bullet_enemy.getChildAt(0).hide(!1);for(;this.bullet_enemy_laser.numChildren>0;)this.bullet_enemy_laser.getChildAt(0).hide(!1);for(a=this.enemys.numChildren-1;a>-1;a--)s=this.enemys.getChildAt(a),i=s.type==EnemyManager.type_boss?s.hp_limit/2:s.hp,s.beHurt(i,this);this.shock+=40,bulletManager.createBulletPlayer(this.bullet_player,this.enemys,BulletManager.type_skill_bombing,this.player.x,this.player.y,this.gameTime,this.player),soundPlayer.playSound(SoundMag.effect_sfx_nlqboom)}break;case BulletManager.type_skill_laser:if(this.skillNumber_1>0){this.skillNumber_1-=1,0==this.skillNumber_1&&(this.btn_skill1.mouseEnabled=!1,this.btn_skill1.filters=this.grayscaleFilter),this.player.canUseLaser=!1;var l=bulletManager.createBulletPlayer(this.bullet_player,this.enemys,BulletManager.type_skill_laser,this.player.x,this.player.y,this.gameTime,this.player);for(a=this.enemys.numChildren-1;a>-1;a--){s=this.enemys.getChildAt(a);var n=Math.abs(s.x-l.x),o=Math.abs(s.y-l.y);(l.isBig()||n<s.collisionWidth+l.collisionWidth&&o<s.collisionHeight+l.collisionHeight)&&(i=s.type==EnemyManager.type_boss?s.hp_limit/2:s.hp,s.beHurt(i,this))}soundPlayer.playSound(SoundMag.effect_sfx_jiguang)}}this.resetSkillNumber()}},t.pauseGame=function(){soundPlayer.playSound(SoundMag.effect_ui_ananniu),this.state==e.state_game&&(this.setState(e.state_pause),Config.isPause=!0,this.membrane.visible=!0,this.btn_continue.visible=!0,this.btn_exit.visible=!0)},t.clickContinue=function(){soundPlayer.playSound(SoundMag.effect_ui_ananniu),this.state==e.state_pause&&(this.setState(e.state_game),Laya.timer.once(200,this,this.continueGame))},t.continueGame=function(){Config.isPause=!1,this.membrane.visible=!1,this.btn_continue.visible=!1,this.btn_exit.visible=!1},t.clickExit=function(){soundPlayer.playSound(SoundMag.effect_ui_ananniu),this.state!=e.state_pause&&this.state!=e.state_rank||(this.setState(e.state_exit),Laya.timer.once(200,this,this.exitGame))},t.exitGame=function(){this.loadSprite.removeChildren(0,this.loadSprite.numChildren),Config.isOver=!0,Laya.timer.clear(this,this.onLoop),this.offAll(),Bullet.cached=!1,Enemy.cached=!1,Explode.cached=!1,Food.cached=!1,Player.cached=!1,this.clear(),Laya.stage.off(Event.KEY_DOWN,this,this.onKeyDown),Laya.stage.off(Event.KEY_UP,this,this.onKeyUp),startScreen(this,new MenuScreen)},t.createHurtText=function(e,t,i){}}(),function(){function e(){e.__super.call(this),this.state=e.state_none,this.state_last=e.state_none,this.setState(e.state_load)}Laya["class"](e,"RankScreen",ui.RankUI),e.state_none=0,e.state_load=1,e.state_menu=2,e.state_warehouse=3,e.state_shop=4,e.state_world=5,e.state_exit=6,e.equipmentIndex_fighter=0,e.equipmentIndex_armor=1,e.equipmentIndex_weapon=2,e.equipmentIndex_wingman=3;var t=e.prototype;t.setState=function(t){switch(this.state=t,t){case e.state_menu:break;case e.state_world:}},t.init=function(t){this.btn_start.on(Event.CLICK,this,this.clickStart),this.setState(e.state_menu)},t.onLoop=function(){},t.clickStart=function(){this.setState(e.state_exit),Laya.timer.once(100,this,this.startGame)},t.startGame=function(){startScreen(this,new GameScreen)}}(),function(){function e(){e.__super.call(this),this.button_index=e.button_index_start,Laya.stage.on(Event.KEY_DOWN,this,this.onKeyDown),this.setButtonIndex(e.button_index_start),this.init()}Laya["class"](e,"MenuScreen",ui.MenuUI),e.button_index_start=0,e.button_index_sound=1;var t=e.prototype;t.setButtonIndex=function(t){switch(this.button_index=t,this.button_index){case e.button_index_start:this.finger.pos(325,824);break;case e.button_index_sound:this.finger.pos(540,150)}},t.init=function(){this.btn_start.on(Event.MOUSE_DOWN,this,this.clickStart),this.check_sound.on(Event.CLICK,this,this.setMusic),soundPlayer.playMusic(SoundMag.music_bg_main),Laya.timer.frameLoop(1,this,this.onLoop)},t.setMusic=function(){this.check_sound.selected=!this.check_sound.selected,soundPlayer.playSound(SoundMag.effect_ui_ananniu),soundPlayer.changMusic(this.check_sound.selected)},t.onKeyDown=function(t){switch(t.keyCode){case Keyboard.UP:case Keyboard.RIGHT:this.setButtonIndex(e.button_index_sound);break;case Keyboard.DOWN:case Keyboard.LEFT:this.setButtonIndex(e.button_index_start);break;case Keyboard.ENTER:switch(this.button_index){case e.button_index_start:this.clickStart();break;case e.button_index_sound:this.setMusic()}}t.stopPropagation()},t.onLoop=function(){},t.clickStart=function(){soundPlayer.playSound(SoundMag.effect_ui_jinru),Laya.timer.once(200,this,this.startGame)},t.startGame=function(){Laya.stage.off(Event.KEY_DOWN,this,this.onKeyDown),Laya.timer.clear(this,this.onLoop),startScreen(this,new GameScreen)}}(),Laya.init(Config.GameWidth,Config.GameHeight,Laya.WebGL),Laya.Stat.show(0,100),Laya.stage.bgColor="#000000",Laya.stage.scaleMode=Stage.SCALE_SHOWALL,Laya.stage.alignH=Stage.ALIGN_CENTER,Laya.stage.alignV=Stage.ALIGN_MIDDLE;var dataManager=new DataManager,enemyManager=new EnemyManager,bulletManager=new BulletManager,soundPlayer=new SoundMag,foodManager=new FoodManager,fontRankNumber=new BitmapFont,fontBattleNumber=new BitmapFont;fontRankNumber.loadFont("res/font/rankNumber.fnt",new Handler(this,onFontLoaded,["fontRankNumber",fontRankNumber])),fontBattleNumber.loadFont("res/font/battleNumber.fnt",new Handler(this,onFontLoaded,["fontBattleNumber",fontBattleNumber])),function(){function e(){e.__super.call(this),this.state=e.state_none,this.tipDialog.visible=!1,this.tipDialog.btn_confirm.on(Event.MOUSE_DOWN,this,this.onConfirm),this.setState(e.state_loading),this.loading(),this.value=0,Laya.timer.frameLoop(1,this,this.onLoop)}Laya["class"](e,"GameActivity",ui.ActivityUI),e.state_none=0,e.state_loading=1,e.state_wait=2,e.state_exit=3,e.state_error=4;var t=e.prototype;t.setState=function(e){this.state=e},t.loading=function(){var e=[];e.push({url:"battle/bg.jpg",type:Laya.Loader.IMAGE}),e.push({url:"res/atlas/menu.json",type:Laya.Loader.ATLAS},{url:"res/atlas/rank.json",type:Laya.Loader.ATLAS},{url:"res/atlas/battle.json",type:Laya.Loader.ATLAS},{url:"res/atlas/food.json",type:Laya.Loader.ATLAS},{url:"res/atlas/explode.json",type:Laya.Loader.ATLAS},{url:"res/atlas/bullet.json",type:Laya.Loader.ATLAS},{url:"res/atlas/enemy.json",type:Laya.Loader.ATLAS},{url:"res/atlas/player.json",type:Laya.Loader.ATLAS},{url:"res/atlas/skill.json",type:Laya.Loader.ATLAS}),e.push({url:SoundMag.music_bg_main,type:Loader.SOUND},{url:SoundMag.music_bg_war,type:Loader.SOUND},{url:SoundMag.effect_ui_jinru,type:Loader.SOUND},{url:SoundMag.effect_ui_ananniu,type:Loader.SOUND},{url:SoundMag.effect_ui_bosswarning,type:Loader.SOUND},{url:SoundMag.effect_sfx_chihuoyanzidan,type:Loader.SOUND},{url:SoundMag.effect_sfx_shiquzidan,type:Loader.SOUND},{url:SoundMag.effect_sfx_chihuzhao,type:Loader.SOUND},{url:SoundMag.effect_sfx_nlqboom,type:Loader.SOUND},{url:SoundMag.effect_sfx_jiguang,type:Loader.SOUND},{url:SoundMag.effect_sfx_sandan,type:Loader.SOUND},{url:SoundMag.effect_sfx_beiji,type:Loader.SOUND},{url:SoundMag.effect_sfx_dabaozha,type:Loader.SOUND},{url:SoundMag.effect_sfx_xiaobaozha,type:Loader.SOUND}),Laya.loader.load(e,Handler.create(this,this.onLoaded),Handler.create(this,this.onLoading,null,!1))},t.onLoading=function(e){this.loadingBar.value=e},t.onLoaded=function(){laya.display.Animation.createFrames(["bullet/0_0.png"],Bullet.FLY+"0_0"),laya.display.Animation.createFrames(["bullet/0_1.png"],Bullet.FLY+"0_1"),laya.display.Animation.createFrames(["bullet/0_10_0.png"],Bullet.FLY+"0_10"),laya.display.Animation.createFrames(["bullet/0_100_0.png","bullet/0_100_1.png","bullet/0_100_2.png","bullet/0_100_3.png","bullet/0_100_4.png","bullet/0_100_5.png","bullet/0_100_6.png"],Bullet.FLY+"0_100"),laya.display.Animation.createFrames(["bullet/changtiaoxing_m.png"],Bullet.FLY+"changtiaoxing_m"),laya.display.Animation.createFrames(["bullet/daodan_l.png"],Bullet.FLY+"daodan_l"),laya.display.Animation.createFrames(["bullet/daodan_l_2.png"],Bullet.FLY+"daodan_l_2"),laya.display.Animation.createFrames(["bullet/daodan_s.png"],Bullet.FLY+"daodan_s"),laya.display.Animation.createFrames(["bullet/daodan_s_2.png"],Bullet.FLY+"daodan_s_2"),laya.display.Animation.createFrames(["bullet/fangxing_m_1.png"],Bullet.FLY+"fangxing_m_1"),laya.display.Animation.createFrames(["bullet/fangxing_m_2.png"],Bullet.FLY+"fangxing_m_2"),laya.display.Animation.createFrames(["bullet/huixuan_m.png"],Bullet.FLY+"huixuan_m"),laya.display.Animation.createFrames(["bullet/jiguang_m.png"],Bullet.FLY+"jiguang_m"),laya.display.Animation.createFrames(["bullet/jiguang_s.png"],Bullet.FLY+"jiguang_s"),laya.display.Animation.createFrames(["bullet/jiguang_l.png"],Bullet.FLY+"jiguang_l"),laya.display.Animation.createFrames(["bullet/jiguang_xl.png"],Bullet.FLY+"jiguang_xl"),laya.display.Animation.createFrames(["bullet/leidianqiu_l_1.png"],Bullet.FLY+"leidianqiu_l_1"),laya.display.Animation.createFrames(["bullet/leidianqiu_l_2.png"],Bullet.FLY+"leidianqiu_l_2"),laya.display.Animation.createFrames(["bullet/leidianqiu_xl.png"],Bullet.FLY+"leidianqiu_xl"),laya.display.Animation.createFrames(["bullet/tuoyuanxing_s.png"],Bullet.FLY+"tuoyuanxing_s"),laya.display.Animation.createFrames(["bullet/tuoyuanxing_m.png"],Bullet.FLY+"tuoyuanxing_m"),laya.display.Animation.createFrames(["bullet/tuoyuanxing_m_1.png"],Bullet.FLY+"tuoyuanxing_m_1"),laya.display.Animation.createFrames(["bullet/tuoyuanxing_l.png"],Bullet.FLY+"tuoyuanxing_l"),laya.display.Animation.createFrames(["bullet/yuanxing_m_1.png"],Bullet.FLY+"yuanxing_m_1"),laya.display.Animation.createFrames(["bullet/yuanxing_m_2.png"],Bullet.FLY+"yuanxing_m_2"),laya.display.Animation.createFrames(["bullet/yuanxing_xl.png"],Bullet.FLY+"yuanxing_xl"),laya.display.Animation.createFrames(["bullet/yuanxing_xl_1.png"],Bullet.FLY+"yuanxing_xl_1"),laya.display.Animation.createFrames(["bullet/yuanxing_s_1.png"],Bullet.FLY+"yuanxing_s_1"),laya.display.Animation.createFrames(["bullet/yuanxing_s_2.png"],Bullet.FLY+"yuanxing_s_2"),laya.display.Animation.createFrames(["bullet/yuanxing_s_3.png"],Bullet.FLY+"yuanxing_s_3"),laya.display.Animation.createFrames(["skill/ldq_01.png","skill/ldq_02.png","skill/ldq_03.png","skill/ldq_04.png","skill/ldq_05.png","skill/ldq_06.png","skill/ldq_07.png","skill/ldq_08.png","skill/ldq_09.png","skill/ldq_10.png","skill/ldq_11.png","skill/ldq_12.png","skill/ldq_13.png","skill/ldq_14.png"],Bullet.FLY+"skill0"),laya.display.Animation.createFrames(["enemy/1.png"],Enemy.FLY+"1"),laya.display.Animation.createFrames(["enemy/100.png"],Enemy.FLY+"100"),laya.display.Animation.createFrames(["enemy/101.png"],Enemy.FLY+"101"),laya.display.Animation.createFrames(["enemy/102.png"],Enemy.FLY+"102"),laya.display.Animation.createFrames(["enemy/103.png"],Enemy.FLY+"103"),laya.display.Animation.createFrames(["enemy/104.png"],Enemy.FLY+"104"),laya.display.Animation.createFrames(["enemy/105.png"],Enemy.FLY+"105"),laya.display.Animation.createFrames(["enemy/110.png"],Enemy.FLY+"110"),laya.display.Animation.createFrames(["enemy/111.png"],Enemy.FLY+"111"),laya.display.Animation.createFrames(["enemy/112.png"],Enemy.FLY+"112"),laya.display.Animation.createFrames(["enemy/120.png"],Enemy.FLY+"120"),laya.display.Animation.createFrames(["enemy/121.png"],Enemy.FLY+"121"),laya.display.Animation.createFrames(["enemy/122.png"],Enemy.FLY+"122"),laya.display.Animation.createFrames(["enemy/130.png"],Enemy.FLY+"130"),laya.display.Animation.createFrames(["enemy/131.png"],Enemy.FLY+"131"),laya.display.Animation.createFrames(["enemy/132.png"],Enemy.FLY+"132"),laya.display.Animation.createFrames(["enemy/133.png"],Enemy.FLY+"133"),laya.display.Animation.createFrames(["enemy/134.png"],Enemy.FLY+"134"),laya.display.Animation.createFrames(["enemy/135.png"],Enemy.FLY+"135"),laya.display.Animation.createFrames(["enemy/136.png"],Enemy.FLY+"136"),laya.display.Animation.createFrames(["food/10000.png"],Food.FLY+"10000"),laya.display.Animation.createFrames(["food/10002.png"],Food.FLY+"10002"),laya.display.Animation.createFrames(["food/10003.png"],Food.FLY+"10003"),laya.display.Animation.createFrames(["food/10200.png"],Food.FLY+"10200"),laya.display.Animation.createFrames(["food/10201.png"],Food.FLY+"10201"),laya.display.Animation.createFrames(["food/10202.png"],Food.FLY+"10202"),laya.display.Animation.createFrames(["food/10203.png"],Food.FLY+"10203"),laya.display.Animation.createFrames(["food/10204.png"],Food.FLY+"10204"),laya.display.Animation.createFrames(["food/10205.png"],Food.FLY+"10205"),laya.display.Animation.createFrames(["explode/explode_0.png","explode/explode_1.png","explode/explode_2.png","explode/explode_3.png","explode/explode_4.png","explode/explode_5.png","explode/explode_6.png","explode/explode_7.png","explode/explode_8.png"],Explode.PLANE),laya.display.Animation.createFrames(["explode/bullet0.png","explode/bullet1.png","explode/bullet2.png","explode/bullet3.png","explode/bullet4.png"],Explode.BULLET),laya.display.Animation.createFrames(["explode/ddbx_01.png","explode/ddbx_02.png","explode/ddbx_03.png","explode/ddbx_04.png","explode/ddbx_05.png","explode/ddbx_06.png"],Explode.missile),laya.display.Animation.createFrames(["explode/ld_01.png","explode/ld_02.png","explode/ld_03.png","explode/ld_04.png","explode/ld_05.png","explode/ld_06.png","explode/ld_07.png","explode/ld_08.png","explode/ld_09.png","explode/ld_10.png","explode/ld_11.png"],Explode.electricity),laya.display.Animation.createFrames(["explode/phy_01.png","explode/phy_02.png","explode/phy_03.png","explode/phy_04.png","explode/phy_05.png","explode/phy_06.png","explode/phy_07.png","explode/phy_08.png","explode/phy_09.png","explode/phy_10.png","explode/phy_11.png","explode/phy_12.png","explode/phy_13.png","explode/phy_14.png","explode/phy_15.png","explode/phy_16.png","explode/phy_17.png","explode/phy_18.png","explode/phy_19.png","explode/phy_20.png"],Explode.smoke),laya.display.Animation.createFrames(["explode/jsbz_01.png","explode/jsbz_02.png","explode/jsbz_03.png","explode/jsbz_04.png","explode/jsbz_05.png","explode/jsbz_06.png","explode/jsbz_07.png","explode/jsbz_08.png","explode/jsbz_09.png","explode/jsbz_10.png","explode/jsbz_11.png","explode/jsbz_12.png","explode/jsbz_13.png"],Explode.boss),laya.display.Animation.createFrames(["explode/jzhd_01.png","explode/jzhd_02.png","explode/jzhd_03.png","explode/jzhd_04.png","explode/jzhd_05.png","explode/jzhd_06.png","explode/jzhd_07.png","explode/jzhd_08.png","explode/jzhd_09.png","explode/jzhd_10.png","explode/jzhd_11.png","explode/jzhd_12.png","explode/jzhd_13.png"],"explode/jzhd_14.png","explode/jzhd_15.png","explode/jzhd_16.png","explode/jzhd_17.png","explode/jzhd_18.png","explode/jzhd_19.png","explode/jzhd_20.png","explode/jzhd_21.png","explode/jzhd_22.png",Explode.laser);getRequest();this.setState(e.state_exit),startScreen(this,new MenuScreen)},t.onConfirm=function(){this.tipDialog.visible=!1},t.reload=function(){console.log("reload...."),window.location.reload(!1),console.log("window.location.reload(false)")},t.onLoop=function(){switch(this.state){case e.state_wait:dataManager.hadDoStaff&&(startScreen(this,new StationScreen),this.setState(e.state_exit));break;case e.state_exit:Laya.timer.clear(this,this.onLoop)}}}(),function(){function e(){UpdateMgr.Instance().LoadFile("files.fst?"+Math.random(),Handler.create(this,this.verifyComplete))}Laya["class"](e,"VersionVerify");var t=e.prototype;t.verifyComplete=function(){var e=[];e.push({url:"res/atlas/activity.json",type:Laya.Loader.ATLAS}),Laya.loader.load(e,Handler.create(this,this.startGame))},t.startGame=function(){startScreen(null,new GameActivity)}}(),new VersionVerify;